"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[5495],{4249:function(e,o,t){t.d(o,{Z:function(){return P}});var s=t(6252),i=t(6612);const l={key:0},a={class:"switch-container"},r={class:"forgot-form-container"},n={class:"xll-input-container"},d={class:"xll-input-input"},m={class:"submit-container"},u=(0,s.Uk)(" Submit "),g={class:"xll-input-container"},c={class:"xll-input-input"},h={class:"submit-container"},p=(0,s.Uk)(" Submit ");function w(e,o,t,w,f,b){const y=(0,s.up)("el-input"),_=(0,s.up)("el-form-item"),S=(0,s.up)("el-button"),P=(0,s.up)("el-form"),k=(0,s.up)("el-dialog");return t.isShow?((0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(k,{"model-value":t.isShow,onClose:o[14]||(o[14]=e=>w.handleClose()),title:"Forgot Password",width:f.dialogWidthValue,center:""},{default:(0,s.w5)((()=>[(0,s._)("div",a,[(0,s._)("div",{class:(0,i.C_)(["switch-item",1===w.switchValue?"switch-item-active":""]),onClick:o[0]||(o[0]=e=>w.handleSwitch(1))}," By Email ",2),(0,s._)("div",{class:(0,i.C_)(["switch-item",2===w.switchValue?"switch-item-active":""]),onClick:o[1]||(o[1]=e=>w.handleSwitch(2))}," By Phone # ",2)]),(0,s._)("div",r,[1===w.switchValue?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)(P,{model:f.forgotForm1,rules:f.forgotRules1,ref:"forgotForm1","label-width":"250px","label-position":"left",class:"demo-ruleForm"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{label:"Email",prop:"email",required:""},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{placeholder:"Email",modelValue:f.forgotForm1.email,"onUpdate:modelValue":o[2]||(o[2]=e=>f.forgotForm1.email=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(_,{label:"6 Digit Code",prop:"email_code",required:""},{default:(0,s.w5)((()=>[(0,s._)("div",n,[(0,s._)("div",d,[(0,s.Wm)(y,{placeholder:"Code",modelValue:f.forgotForm1.email_code,"onUpdate:modelValue":o[3]||(o[3]=e=>f.forgotForm1.email_code=e)},null,8,["modelValue"])]),(0,s.Wm)(S,{class:"xll-input-btn",type:"primary",round:"",loading:w.checkCodeBtn.loading,disabled:w.checkCodeBtn.disabled,onClick:o[4]||(o[4]=e=>b.sendEmailCode())},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(w.checkCodeBtn.text),1)])),_:1},8,["loading","disabled"])])])),_:1}),(0,s.Wm)(_,{label:"New Password",prop:"password",required:""},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{placeholder:"New Password",type:"password",modelValue:f.forgotForm1.password,"onUpdate:modelValue":o[5]||(o[5]=e=>f.forgotForm1.password=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(_,{label:"Confirm Password",prop:"confirm_password",required:""},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{placeholder:"Confirm Your New Password",type:"password",modelValue:f.forgotForm1.confirm_password,"onUpdate:modelValue":o[6]||(o[6]=e=>f.forgotForm1.confirm_password=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"]),(0,s._)("div",m,[(0,s.Wm)(S,{class:"submit-btn",round:"",type:"primary",loading:w.submitLoadingStatus,onClick:o[7]||(o[7]=e=>b.submitForm1("forgotForm1"))},{default:(0,s.w5)((()=>[u])),_:1},8,["loading"])])],64)):(0,s.kq)("",!0),2===w.switchValue?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)(P,{model:f.forgotForm2,rules:f.forgotRules2,ref:"forgotForm2","label-width":"250px","label-position":"left",class:"demo-ruleForm"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{label:"Phone #",prop:"phone",required:""},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{placeholder:"Phone #",modelValue:f.forgotForm2.phone,"onUpdate:modelValue":o[8]||(o[8]=e=>f.forgotForm2.phone=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(_,{label:"6 Digit Code",prop:"phone_code",required:""},{default:(0,s.w5)((()=>[(0,s._)("div",g,[(0,s._)("div",c,[(0,s.Wm)(y,{placeholder:"Code",modelValue:f.forgotForm2.phone_code,"onUpdate:modelValue":o[9]||(o[9]=e=>f.forgotForm2.phone_code=e)},null,8,["modelValue"])]),(0,s.Wm)(S,{class:"xll-input-btn",type:"primary",round:"",loading:w.checkCodeBtn.loading,disabled:w.checkCodeBtn.disabled,onClick:o[10]||(o[10]=e=>b.getCheckCode())},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(w.checkCodeBtn.text),1)])),_:1},8,["loading","disabled"])])])),_:1}),(0,s.Wm)(_,{label:"New Password",prop:"password",required:""},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{placeholder:"New Password",type:"password",modelValue:f.forgotForm2.password,"onUpdate:modelValue":o[11]||(o[11]=e=>f.forgotForm2.password=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(_,{label:"Confirm Password",prop:"confirm_password",required:""},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{placeholder:"Confirm Your New Password",type:"password",modelValue:f.forgotForm2.confirm_password,"onUpdate:modelValue":o[12]||(o[12]=e=>f.forgotForm2.confirm_password=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"]),(0,s._)("div",h,[(0,s.Wm)(S,{class:"submit-btn",round:"",type:"primary",loading:w.submitLoadingStatus,onClick:o[13]||(o[13]=e=>b.submitForm2("forgotForm2"))},{default:(0,s.w5)((()=>[p])),_:1},8,["loading"])])],64)):(0,s.kq)("",!0)])])),_:1},8,["model-value","width"])])):(0,s.kq)("",!0)}var f=t(2931),b=t(1836),y={name:"forgotPassword",props:["isShow"],setup(e,o){const t=()=>{o.emit("close",!1)},s=(0,f.iH)(1),i=e=>{s.value=e},l=(0,f.iH)(!1);let a=(0,f.qj)({text:"Get Code",loading:!1,disabled:!1,duration:10,timer:null});const r=()=>{10!==a.duration&&(a.disabled=!0,a.loading=!0),a.timer&&clearInterval(a.timer),a.timer=setInterval((()=>{const e=a.duration--;a.text=`${e} S`,a.loading=!0,a.disabled=!0,e<=0&&(clearInterval(a.timer),a.duration=10,a.text="Reacquire",a.disabled=!1,a.loading=!1),console.log(a)}),1e3)};return{handleClose:t,switchValue:s,handleSwitch:i,getCheckCodeTimer:r,checkCodeBtn:a,submitLoadingStatus:l}},data(){return{dialogWidthValue:"50%",forgotForm1:{email:"",email_code:"",password:"",confirm_password:""},forgotRules1:{email_code:[{required:!0,message:"Please fill out your code.",trigger:"blur"}],email:[{required:!0,message:"Please fill out your email address.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}],confirm_password:[{required:!0,message:"Please enter your password again",trigger:"blur"}]},forgotForm2:{phone:"",phone_code:"",password:"",confirm_password:""},forgotRules2:{phone_code:[{required:!0,message:"Please fill out your code.",trigger:"blur"}],phone:[{required:!0,message:"Please fill out your phone #.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}],confirm_password:[{required:!0,message:"Please enter your password again",trigger:"blur"}]}}},mounted(){let e=document.body.clientWidth;Math.floor(e)<768&&(this.dialogWidthValue="90%"),Math.floor(e)>=768&&Math.floor(e)<992&&(this.dialogWidthValue="90%"),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.dialogWidthValue="50%"),Math.floor(e)>=1200&&(this.dialogWidthValue="50%"),window.onresize=()=>{let e=document.body.clientWidth;Math.floor(e)<768&&(this.dialogWidthValue="90%"),Math.floor(e)>=768&&Math.floor(e)<992&&(this.dialogWidthValue="90%"),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.dialogWidthValue="50%"),Math.floor(e)>=1200&&(this.dialogWidthValue="50%")}},unmounted(){window.onresize=null},methods:{getCheckCode(){let e=this.forgotForm2.phone;if(e){let o={phone:e};this.getCheckCodeTimer(),(0,b.eo)(o).then((e=>{console.log(e),200===e.code&&this.$message.success("Success")})).catch((e=>{this.$message.error(e.msg)}))}},sendEmailCode(){let e=this,o=this.forgotForm1.email;if(o){let t={email:o};this.getCheckCodeTimer(),(0,b.h1)(t).then((o=>{200==o.code&&e.$message.success("Success")})).catch((e=>{console.log(e),this.$message.error(e.msg)}))}},submitForm1(e){this.submitLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitLoadingStatus=!1,!1;{let e=Object.assign({},this.forgotForm1);(0,b.OW)(e).then((e=>{console.log(e),200==e.code&&(this.$message.success(e.msg),this.submitLoadingStatus=!1,this.handleClose())})).catch((e=>{console.log(e),this.submitLoadingStatus=!1,this.$message.error(e.msg)}))}}))},submitForm2(e){this.submitLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitLoadingStatus=!1,!1;{let e=Object.assign({},this.forgotForm2);(0,b.UM)(e).then((e=>{console.log(e),200==e.code&&(this.$message.success(e.msg),this.submitLoadingStatus=!1,this.handleClose())})).catch((e=>{console.log(e),this.submitLoadingStatus=!1,this.$message.error(e.msg)}))}}))}}},_=t(8118);const S=(0,_.Z)(y,[["render",w],["__scopeId","data-v-a4eac0b2"]]);var P=S},5495:function(e,o,t){t.r(o),t.d(o,{default:function(){return Fe}});var s=t(4249),i=t(6252);const l={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},a=(0,i._)("path",{fill:"currentColor",d:"M28 6H4a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Zm-2.2 2L16 14.78L6.2 8ZM4 24V8.91l11.43 7.91a1 1 0 0 0 1.14 0L28 8.91V24Z"},null,-1),r=[a];function n(e,o){return(0,i.wg)(),(0,i.iD)("svg",l,r)}var d={name:"carbon-email",render:n};const m={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},u=(0,i._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 2H11c-1 0-2 1-2 2v24c0 1 1 2 2 2h10c1 0 2-1 2-2V4c0-1-1-2-2-2ZM9 5h14M9 27h14"},null,-1),g=[u];function c(e,o){return(0,i.wg)(),(0,i.iD)("svg",m,g)}var h={name:"bytesize-mobile",render:c},p=t(6612);const w=e=>((0,i.dD)("data-v-2315b188"),e=e(),(0,i.Cn)(),e),f={class:"login-bg"},b={class:"login-m"},y=w((()=>(0,i._)("h1",null,"Log in",-1))),_={class:"xll-login-form-container"},S={class:"remember-forgot-container"},P={class:"remember-container"},k={class:"forgot-password-container"},C=(0,i.Uk)(" Forgot password? "),V=(0,i.Uk)(" Login "),F=w((()=>(0,i._)("span",{class:"login-require-star"},"*",-1))),L=w((()=>(0,i._)("span",{class:"login-label-text"},"Phone #",-1))),v={class:"password-container"},W=w((()=>(0,i._)("div",{class:"password-l"},[(0,i._)("span",{class:"login-require-star"},"*"),(0,i._)("span",{class:"login-label-text"},"6 Digit Code")],-1))),I={class:"password-r"},$=(0,i.Uk)(" Log in via password "),U={class:"xll-input-container"},q={class:"xll-input-input"},B={class:"remember-forgot-container"},x={class:"remember-container"},E={class:"forgot-password-container"},D=(0,i.Uk)("Forgot password? "),M=(0,i.Uk)(" LOGIN "),R=w((()=>(0,i._)("span",{class:"login-require-star"},"*",-1))),T=w((()=>(0,i._)("span",{class:"login-label-text"},"Phone #",-1))),z={class:"password-container"},H=w((()=>(0,i._)("div",{class:"password-l"},[(0,i._)("span",{class:"login-require-star"},"*"),(0,i._)("span",{class:"login-label-text"},"Password")],-1))),N={class:"password-r"},A=(0,i.Uk)(" Log in via SMS verification code "),O={class:"remember-forgot-container"},j={class:"remember-container"},Z={class:"forgot-password-container"},G=(0,i.Uk)(" Forgot password? "),Y=(0,i.Uk)(" LOGIN "),J={class:"xll-divider"},K=(0,i.Uk)("or"),Q={class:"sign-in-btn-container"},X=(0,i.Uk)(" SIGN IN WITH PHONE NUMBER "),ee=(0,i.Uk)(" SIGN IN WITH EMAIL "),oe={class:"login-r"},te={class:"login-close"},se=(0,i.Uk)(" CLOSE "),ie={class:"sign-up"},le=(0,i.Uk)(" SIGN UP "),ae={class:"login-error-container"},re=w((()=>(0,i._)("h4",null," Welcome Back! ",-1))),ne=w((()=>(0,i._)("p",null," Oops, your username or password is wrong ",-1))),de={class:"login-error-ok-container"},me=(0,i.Uk)("GET HELP"),ue=(0,i.Uk)("OK");function ge(e,o,t,l,a,r){const n=(0,i.up)("el-image"),m=(0,i.up)("el-col"),u=(0,i.up)("el-input"),g=(0,i.up)("el-form-item"),c=(0,i.up)("el-checkbox"),w=(0,i.up)("el-button"),ge=(0,i.up)("el-form"),ce=(0,i.up)("el-divider"),he=h,pe=(0,i.up)("el-icon"),we=d,fe=(0,i.up)("el-row"),be=s.Z,ye=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)("div",f,[(0,i.Wm)(fe,{justify:"center",align:"top",class:"login-container"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{xs:0,sm:0,md:4,lg:4,xl:4},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"login-l",onClick:o[0]||(o[0]=e=>r.turnHome())},[(0,i.Wm)(n,{class:"login-l-logo",src:a.logoImgLight},null,8,["src"])])])),_:1}),(0,i.Wm)(m,{xs:24,sm:24,md:16,lg:16,xl:16},{default:(0,i.w5)((()=>[(0,i._)("div",b,[y,(0,i._)("div",_,[a.loginEmailStatus?((0,i.wg)(),(0,i.j4)(ge,{key:0,model:a.loginForm,rules:a.loginRules,ref:"loginForm","label-width":"100px","label-position":"top",class:"demo-ruleForm"},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{prop:"email"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{size:"large",placeholder:"Email Address",modelValue:a.loginForm.email,"onUpdate:modelValue":o[1]||(o[1]=e=>a.loginForm.email=e)},null,8,["modelValue"])])),_:1}),(0,i.Wm)(g,{style:{"margin-top":"25px"},prop:"password"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{size:"large",placeholder:"Password",type:"password","show-password":"",modelValue:a.loginForm.password,"onUpdate:modelValue":o[2]||(o[2]=e=>a.loginForm.password=e)},null,8,["modelValue"])])),_:1}),(0,i._)("div",S,[(0,i._)("div",P,[(0,i.Wm)(c,{size:"large",modelValue:a.rememberValue,"onUpdate:modelValue":o[3]||(o[3]=e=>a.rememberValue=e),label:"Remember Me",onChange:r.rememberChange},null,8,["modelValue","onChange"])]),(0,i._)("div",k,[(0,i.Wm)(w,{link:"",class:"forgot-password-btn",onClick:o[4]||(o[4]=e=>r.forgotPassword())},{default:(0,i.w5)((()=>[C])),_:1})])]),(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i.Wm)(w,{class:"submit-btn",round:"",type:"primary",size:"large",loading:a.submitLoginLoadingStatus,onClick:o[5]||(o[5]=e=>r.submitLoginForm("loginForm"))},{default:(0,i.w5)((()=>[V])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])):(0,i.kq)("",!0),a.loginPhoneStatus?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[a.loginByPhoneWithSmsStatus?((0,i.wg)(),(0,i.j4)(ge,{key:0,model:a.loginPhoneSmsForm,rules:a.loginPhoneSmsRules,ref:"loginPhoneSmsForm","hide-required-asterisk":!0,"label-position":"top",class:"demo-ruleForm"},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{label:"Phone #",prop:"phone"},{label:(0,i.w5)((()=>[F,L])),default:(0,i.w5)((()=>[(0,i.Wm)(u,{size:"large",placeholder:"Phone #",modelValue:a.loginPhoneSmsForm.phone,"onUpdate:modelValue":o[6]||(o[6]=e=>a.loginPhoneSmsForm.phone=e)},null,8,["modelValue"])])),_:1}),(0,i.Wm)(g,{label:"6 Digit Code",prop:"phone_code"},{label:(0,i.w5)((()=>[(0,i._)("div",v,[W,(0,i._)("div",I,[(0,i.Wm)(w,{link:"",size:"large",onClick:o[7]||(o[7]=e=>r.switchToPhoneBySms())},{default:(0,i.w5)((()=>[$])),_:1})])])])),default:(0,i.w5)((()=>[(0,i._)("div",U,[(0,i._)("div",q,[(0,i.Wm)(u,{size:"large",placeholder:"Code",modelValue:a.loginPhoneSmsForm.code,"onUpdate:modelValue":o[8]||(o[8]=e=>a.loginPhoneSmsForm.code=e)},null,8,["modelValue"])]),(0,i.Wm)(w,{class:"xll-input-btn",type:"primary",round:"",size:"large",loading:l.checkCodeBtn.loading,disabled:l.checkCodeBtn.disabled,onClick:o[9]||(o[9]=e=>r.getCheckCode())},{default:(0,i.w5)((()=>[(0,i.Uk)((0,p.zw)(l.checkCodeBtn.text),1)])),_:1},8,["loading","disabled"])])])),_:1}),(0,i._)("div",B,[(0,i._)("div",x,[(0,i.Wm)(c,{modelValue:a.rememberValue,"onUpdate:modelValue":o[10]||(o[10]=e=>a.rememberValue=e),label:"Remember Me",onChange:r.rememberChange},null,8,["modelValue","onChange"])]),(0,i._)("div",E,[(0,i.Wm)(w,{link:"",class:"forgot-password-btn",onClick:o[11]||(o[11]=e=>r.forgotPassword())},{default:(0,i.w5)((()=>[D])),_:1})])]),(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i.Wm)(w,{class:"submit-btn",size:"large",round:"",type:"primary",onClick:o[12]||(o[12]=e=>r.submitLoginPhoneSmsForm("loginPhoneSmsForm"))},{default:(0,i.w5)((()=>[M])),_:1})])),_:1})])),_:1},8,["model","rules"])):(0,i.kq)("",!0),a.loginByPhoneWithPasswordStatus?((0,i.wg)(),(0,i.j4)(ge,{key:1,model:a.loginPhonePassForm,rules:a.loginPhonePassRules,ref:"loginPhonePassForm","hide-required-asterisk":!0,"label-position":"top",class:"demo-ruleForm"},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{label:"Phone #",prop:"phone"},{label:(0,i.w5)((()=>[R,T])),default:(0,i.w5)((()=>[(0,i.Wm)(u,{size:"large",placeholder:"Phone #",modelValue:a.loginPhonePassForm.phone,"onUpdate:modelValue":o[13]||(o[13]=e=>a.loginPhonePassForm.phone=e)},null,8,["modelValue"])])),_:1}),(0,i.Wm)(g,{label:"Password",prop:"password"},{label:(0,i.w5)((()=>[(0,i._)("div",z,[H,(0,i._)("div",N,[(0,i.Wm)(w,{link:"",size:"large",onClick:o[14]||(o[14]=e=>r.switchToPhoneBySms())},{default:(0,i.w5)((()=>[A])),_:1})])])])),default:(0,i.w5)((()=>[(0,i.Wm)(u,{size:"large",placeholder:"Password",type:"password","show-password":"",modelValue:a.loginPhonePassForm.password,"onUpdate:modelValue":o[15]||(o[15]=e=>a.loginPhonePassForm.password=e)},null,8,["modelValue"])])),_:1}),(0,i._)("div",O,[(0,i._)("div",j,[(0,i.Wm)(c,{modelValue:a.rememberValue,"onUpdate:modelValue":o[16]||(o[16]=e=>a.rememberValue=e),label:"Remember Me",onChange:r.rememberChange},null,8,["modelValue","onChange"])]),(0,i._)("div",Z,[(0,i.Wm)(w,{link:"",class:"forgot-password-btn",onClick:o[17]||(o[17]=e=>r.forgotPassword())},{default:(0,i.w5)((()=>[G])),_:1})])]),(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i.Wm)(w,{class:"submit-btn",size:"large",round:"",type:"primary",onClick:o[18]||(o[18]=e=>r.submitLoginPhonePassForm("loginPhonePassForm"))},{default:(0,i.w5)((()=>[Y])),_:1})])),_:1})])),_:1},8,["model","rules"])):(0,i.kq)("",!0)],64)):(0,i.kq)("",!0),(0,i._)("div",J,[(0,i.Wm)(ce,{"content-position":"center"},{default:(0,i.w5)((()=>[K])),_:1})]),(0,i._)("div",Q,[a.loginPhoneStatus?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(w,{key:0,size:"large",onClick:o[19]||(o[19]=e=>r.loginWithPhone()),class:"login-option-btn",link:"",round:""},{icon:(0,i.w5)((()=>[(0,i.Wm)(pe,null,{default:(0,i.w5)((()=>[(0,i.Wm)(he)])),_:1})])),default:(0,i.w5)((()=>[X])),_:1})),a.loginEmailStatus?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(w,{key:1,onClick:o[20]||(o[20]=e=>r.loginWithPhone()),class:"login-option-btn",link:"",round:"",size:"large"},{icon:(0,i.w5)((()=>[(0,i.Wm)(pe,null,{default:(0,i.w5)((()=>[(0,i.Wm)(we)])),_:1})])),default:(0,i.w5)((()=>[ee])),_:1}))])])])])),_:1}),(0,i.Wm)(m,{xs:0,sm:0,md:4,lg:4,xl:4},{default:(0,i.w5)((()=>[(0,i._)("div",oe,[(0,i._)("div",te,[(0,i.Wm)(w,{class:"login-close-btn",link:"",onClick:o[21]||(o[21]=e=>r.goHome())},{default:(0,i.w5)((()=>[se])),_:1})]),(0,i._)("div",ie,[(0,i.Wm)(w,{class:"sign-up-btn",plain:"",round:"",onClick:o[22]||(o[22]=e=>r.signUp())},{default:(0,i.w5)((()=>[le])),_:1})])])])),_:1})])),_:1}),(0,i.Wm)(be,{isShow:l.forgotDialogVisible,onClose:o[23]||(o[23]=e=>r.closeForgotDialog())},null,8,["isShow"]),(0,i.Wm)(ye,{modelValue:a.loginErrorDialogVisible,"onUpdate:modelValue":o[26]||(o[26]=e=>a.loginErrorDialogVisible=e),width:"550px"},{default:(0,i.w5)((()=>[(0,i._)("div",ae,[re,ne,(0,i._)("div",de,[(0,i.Wm)(w,{plain:"",round:"",onClick:o[24]||(o[24]=e=>r.loginErrorHelp())},{default:(0,i.w5)((()=>[me])),_:1}),(0,i.Wm)(w,{type:"primary",round:"",onClick:o[25]||(o[25]=e=>r.loginErrorOk())},{default:(0,i.w5)((()=>[ue])),_:1})])])])),_:1},8,["modelValue"])])}var ce=t(7454),he=t(6949),pe=t(1836),we=t(8339),fe=t(9669),be=t.n(fe),ye=t(1474),_e=t(3907),Se=t(2931),Pe=t(4276),ke={name:"index",data(){return{loginErrorDialogVisible:!1,imgLogo:he,logoImgLight:ce,identityBusinessCheckedStatus:!1,identityBusinessStrBefore:"",identityBusinessStr:"Education-Business",loginPhoneStatus:!1,loginEmailStatus:!0,loginByPhoneWithPasswordStatus:!1,loginByPhoneWithSmsStatus:!0,loginForm:{email:"",password:""},loginRules:{email:[{required:!0,message:"Please fill out your email address.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}]},loginPhoneSmsForm:{phone:"",code:""},loginPhoneSmsRules:{phone:[{required:!0,message:"Please fill out your phone #.",trigger:"blur"}],code:[{required:!0,message:"Please enter 6 digit code.",trigger:"blur"}]},loginPhonePassForm:{phone:"",password:""},loginPhonePassRules:{phone:[{required:!0,message:"Please fill out your phone #.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}]},submitLoginLoadingStatus:!1,submitRegisterLoadingStatus:!1,humanVerifyStatus:!0,rememberValue:!1,registerForm:{first_name:"",last_name:"",email:"",code:"",password:"",c_password:""},registerRules:{first_name:[{required:!0,message:"Please fill out your first name.",trigger:"blur"}],last_name:[{required:!0,message:"Please fill out your last name.",trigger:"blur"}],code:[{required:!0,message:"Please fill out your code.",trigger:"blur"}],email:[{required:!0,message:"Please fill out your email address.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}],c_password:[{required:!0,message:"Please enter your password again",trigger:"blur"}]},registerPhoneForm:{first_name:"",last_name:"",phone:"",code:"",password:"",c_password:""},registerPhoneRules:{first_name:[{required:!0,message:"Please fill out your first name.",trigger:"blur"}],last_name:[{required:!0,message:"Please fill out your last name.",trigger:"blur"}],phone:[{required:!0,message:"Please fill out your phone #.",trigger:"blur"}],code:[{required:!0,message:"Please fill out your code",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}],c_password:[{required:!0,message:"Please enter your password again",trigger:"blur"}]},identityValue:0,sendCodeLoading:!1,showValue:"login",businessDialogStatus:!1}},components:{ForgotPassword:s.Z},setup(e,o){console.log(e),console.log(o);let t=(0,we.tv)(),s=(0,we.yj)();const i=()=>s.query,l=(0,Se.iH)(!1),a=()=>{let e=s.query.redirect_params;if(e){let o=JSON.parse((0,Pe.Jx)(e));if(o.path)return t.push({path:o.path,query:o.query})}return t.push({path:"/overview"})};let r=s.query.type;const n=r||"login",d=(0,_e.oR)(),m=e=>d.commit("currentUser",e);let u=(0,Se.qj)({text:"Get Code",loading:!1,disabled:!1,duration:10,timer:null});const g=()=>{10!==u.duration&&(u.disabled=!0,u.loading=!0),u.timer&&clearInterval(u.timer),u.timer=setInterval((()=>{const e=u.duration--;u.text=`${e} S`,u.loading=!0,u.disabled=!0,e<=0&&(clearInterval(u.timer),u.duration=10,u.text="Reacquire",u.disabled=!1,u.loading=!1),console.log(u)}),1e3)};return{getParams:i,skipHomePage:a,showType:n,setCurrentUser:m,checkCodeBtn:u,getCheckCodeTimer:g,forgotDialogVisible:l}},beforeRouteUpdate(e){e.query.email&&(this.loginForm.email=e.query.email)},mounted(){let e=this.$route.query.email;e&&(this.loginForm.email=e);let o=this.$cookies.isKey("account");if(console.log(o),o){let e=this.$cookies.get("account");this.rememberValue=!0,1===e.type&&(this.loginForm.email=e.email,this.loginForm.password=e.password),2===e.type&&(this.loginPhonePassForm.phone=e.phone,this.loginPhonePassForm.password=e.password)}},created(){this.showValue=this.showType},methods:{imUnread(e){let o=this;"disconnected"===this.goEasy.getConnectionStatus()&&this.service.connect(e),this.goEasy.im.latestConversations({onSuccess:function(e){console.log("监听会话列表----- me side menu page");let t=e.content;o.$store.commit("setImUnreadTotal",t.unreadTotal)},onFailed:function(e){console.log("失败获取最新会话列表, code:"+e.code+" content:"+e.content)}}),this.goEasy.im.on(this.GoEasy.IM_EVENT.CONVERSATIONS_UPDATED,(e=>{console.log("监听会话列表变化 ----- me side menu page"),o.$store.commit("setImUnreadTotal",e.unreadTotal)}))},loginErrorOk(){this.loginErrorDialogVisible=!1},loginErrorHelp(){window.open("https://salesiq.zoho.com/signaturesupport.ls?widgetcode=75672d291fd9d5fcab53ffa3194f32598809c21f9b5284cbaf3493087cdd2e0d1a2010ab7b6727677d37b27582c0e9c4","_blank")},sendPrivatePassword(e){let o={email:e};(0,pe.pJ)(o).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))},turnHome(){this.$router.push("/")},changeType(e){e.target.type="password"},getCheckCode(){let e={phone:this.loginPhoneSmsForm.phone};(0,pe.eo)(e).then((e=>{console.log(e),200===e.code&&(this.getCheckCodeTimer(),this.$message.success("Success"))})).catch((e=>{e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},getCheckCodeForRegister(){let e={phone:this.registerPhoneForm.phone};(0,pe.eo)(e).then((e=>{console.log(e),200===e.code&&(this.getCheckCodeTimer(),this.$message.success("Success"))})).catch((e=>{e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},signUp(){this.$router.push("/signup")},goHome(){this.$router.push("/")},rememberChange(e){console.log(e)},humanVerify(e,o){console.log(o),this.$loading({text:"Loading..."});let t=new FormData;t.append("secret","0x55587f4f237ef6B48A96284Ee257D0AA3d828508"),t.append("response",e),be().post("/siteverify",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:"/hcaptcha",timeout:1e5}).then((e=>{console.log(e),e.success?(this.$loading().close(),this.humanVerifyStatus=!0,this.$message.success("Success")):(this.$message.error("Fail"),this.$loading().close())}))},sendEmailCode(){let e=this,o=this.registerForm.email;if(o){let t={email:o};e.sendCodeLoading=!0,(0,pe.h1)(t).then((o=>{200==o.code&&setTimeout((function(){e.sendCodeLoading=!1,e.$message.success("Activation Code Sent")}),1500)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))}},selectEducationBusiness(){this.businessDialogStatus=!0,this.identityBusinessCheckedStatus=!1,this.identityValue=0},submitIdentityBusiness(){0!=this.identityValue&&(this.businessDialogStatus=!1)},selectedIdentityBusiness(e,o){this.businessDialogStatus=!0,e&&o&&(this.identityBusinessCheckedStatus=!0,this.identityValue=e,this.identityBusinessStr=o)},closeBusinessDialog(){this.businessDialogStatus=!1,this.identityBusinessCheckedStatus=!1,this.identityValue=0,this.identityBusinessStr="Education-Business"},selectedIdentity(e){console.log(e),this.identityBusinessCheckedStatus=!1,this.identityBusinessStr="Education-Business",this.businessDialogStatus=!1,this.identityValue=e},rememberMeAction(e,o){let t=this.$cookies.isKey("account");if(t&&this.$cookies.remove("account"),this.rememberValue){let t={};1===o&&(t={type:1,email:e.email,password:e.password}),2===o&&(t={type:2,phone:e.phone,password:e.password}),this.$cookies.set("account",t,2592e3)}},submitLoginForm(e){let o=this;o.humanVerifyStatus&&(this.submitLoginLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitLoginLoadingStatus=!1,!1;{let e=Object.assign({},this.loginForm);(0,pe.Jw)(e).then((t=>{if(console.log(t),200==t.code){this.rememberMeAction(e,1);let s=t.message;localStorage.setItem("token",s.token),localStorage.setItem("uid",s.id),localStorage.setItem("identity",s.identity),localStorage.setItem("language",s.language),localStorage.setItem("email",s.email),localStorage.setItem("company_id",s.company_id),this.$store.commit("currentCompanyId",s.company_id),s.third_company_id&&(localStorage.setItem("thirdCompanyId",s.third_company_id),this.$store.commit("thirdCompanyId",s.third_company_id));let i=s.identity,l=s.first_name,a=s.last_name,r="https://oss.esl-passport.cn/educator.png",n=s.company_id;localStorage.setItem("name",l+" "+a),localStorage.setItem("first_name",l),localStorage.setItem("last_name",a),this.$store.commit("identity",s.identity);let d={uuid:s.id,identity:i,name:l+" "+a,avatar:r,companyId:n};this.setCurrentUser(d),this.imUnread(d),this.getUserMenuList(s.id,i,s.company_id,s.id),setTimeout((function(){o.skipHomePage(),o.submitLoginLoadingStatus=!1}),1500)}})).catch((e=>{console.log(e),10001==e.message.status?this.$msgbox({title:"Seems you dont have an account",message:"would you like to sign up?",dangerouslyUseHTMLString:!1,type:"warning",center:!0,showCancelButton:!0,cancelButtonText:"No,thank you",confirmButtonText:"Sign Up","round-button":!0,callback(e){console.log(e),"confirm"===e&&o.$router.push({path:"/signup",query:{}})}}):this.loginErrorDialogVisible=!0,this.submitLoginLoadingStatus=!1}))}})))},submitLoginPhoneSmsForm(e){let o=this;o.humanVerifyStatus&&this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitLoginLoadingStatus=!1,!1;{let e=Object.assign({},this.loginPhoneSmsForm);(0,pe.Nj)(e).then((e=>{if(console.log(e),200==e.code){let t=e.message;localStorage.setItem("token",t.token),localStorage.setItem("uid",t.id),localStorage.setItem("identity",t.identity),localStorage.setItem("language",t.language),localStorage.setItem("phone",t.phone),localStorage.setItem("company_id",t.company_id),this.$store.commit("currentCompanyId",t.company_id),t.third_company_id&&(localStorage.setItem("thirdCompanyId",t.third_company_id),this.$store.commit("thirdCompanyId",t.third_company_id));let s=t.identity,i=t.first_name,l=t.last_name,a="https://oss.esl-passport.cn/educator.png",r=t.company_id;localStorage.setItem("name",i+" "+l),localStorage.setItem("first_name",i),localStorage.setItem("last_name",l),this.$store.commit("identity",t.identity);let n={uuid:t.id,identity:s,name:i+" "+l,avatar:a,companyId:r};this.setCurrentUser(n),this.getUserMenuList(t.id,s,t.company_id,t.id),setTimeout((function(){o.skipHomePage(),o.submitLoginLoadingStatus=!1}),1500)}})).catch((e=>{console.log(e),10001==e.message.status?this.$msgbox({title:"Seems you dont have an account",message:"would you like to sign up?",dangerouslyUseHTMLString:!1,type:"warning",center:!0,showCancelButton:!0,cancelButtonText:"No,thank you",confirmButtonText:"Sign Up","round-button":!0,callback(e){console.log(e),"confirm"===e&&o.$router.push({path:"/signup",query:{}})}}):this.loginErrorDialogVisible=!0}))}}))},submitLoginPhonePassForm(e){let o=this;o.humanVerifyStatus&&this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitLoginLoadingStatus=!1,!1;{let e=Object.assign({},this.loginPhonePassForm);(0,pe.IX)(e).then((t=>{if(console.log(t),200==t.code){this.rememberMeAction(e,2);let s=t.message;localStorage.setItem("token",s.token),localStorage.setItem("uid",s.id),localStorage.setItem("identity",s.identity),localStorage.setItem("language",s.language),localStorage.setItem("phone",s.phone),localStorage.setItem("company_id",s.company_id),this.$store.commit("currentCompanyId",s.company_id),s.third_company_id&&(localStorage.setItem("thirdCompanyId",s.third_company_id),this.$store.commit("thirdCompanyId",s.third_company_id));let i=s.identity,l=s.first_name,a=s.last_name,r="https://oss.esl-passport.cn/educator.png",n=s.company_id;localStorage.setItem("name",l+" "+a),localStorage.setItem("first_name",l),localStorage.setItem("last_name",a),this.$store.commit("identity",s.identity);let d={uuid:s.id,identity:i,name:l+" "+a,avatar:r,companyId:n};this.setCurrentUser(d),this.getUserMenuList(s.id,i,s.company_id,s.id),setTimeout((function(){o.skipHomePage(),o.submitLoginLoadingStatus=!1}),1500)}})).catch((e=>{console.log(e),10001==e.message.status?this.$msgbox({title:"Seems you dont have an account",message:"would you like to sign up?",dangerouslyUseHTMLString:!1,type:"warning",center:!0,showCancelButton:!0,cancelButtonText:"No,thank you",confirmButtonText:"Sign Up","round-button":!0,callback(e){console.log(e),"confirm"===e&&o.$router.push({path:"/signup",query:{}})}}):this.loginErrorDialogVisible=!0}))}}))},getUserMenuList(e,o,t,s){let i={user_id:e,identity:o,company_id:t,create_user_id:s,page:1,limit:1e3};(0,pe.$Z)(i).then((e=>{if(200===e.code){let o=JSON.stringify(e.message);localStorage.setItem("menuData",o),this.$store.commit("menuData",e.message)}})).catch((e=>{console.log(e)}))},async submitEducatorContactForm(e){let o=Object.assign({},this.registerForm),t=[{zf_referrer_name:""},{zf_redirect_url:""},{zc_gad:""},{SingleLine:e},{SingleLine1:o.first_name},{SingleLine2:o.last_name},{Dropdown:""},{Date:""},{SingleLine3:""},{Email:o.email},{PhoneNumber_countrycode:""},{SingleLine4:""},{Dropdown1:""},{MultiLine:""},{Number:""},{SingleLine5:""},{SingleLine6:""},{SingleLine7:""},{Dropdown2:""},{MultiLine1:""},{MultiLine2:""},{Dropdown3:""},{MultiLine3:""},{MultiLine4:""},{Website:""},{Website1:""}],s={zoho_data:t,zoho_url:"https://forms.zohopublic.com/edupassport/form/EducatorContactForm/formperma/G014C7ko-MpOp3A2vp6NZlgxhPbGj2HDtbzlZEI6cks/htmlRecords/submit"};await(0,pe.Qi)(s).then((e=>{console.log(e)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},async submitCompanyContactForm(e){let o=Object.assign({},this.registerForm),t=[{zf_referrer_name:""},{zf_redirect_url:""},{zc_gad:""},{SingleLine:e},{SingleLine1:o.first_name},{SingleLine2:o.last_name},{Dropdown:""},{Date:""},{SingleLine3:""},{Email:o.email},{PhoneNumber_countrycode:""},{SingleLine4:""},{Dropdown1:""},{Number:""},{SingleLine5:""},{SingleLine6:""},{SingleLine7:""},{Website:""}],s={zoho_data:t,zoho_url:"https://forms.zohopublic.com/edupassport/form/CompanyContactForm/formperma/ZYHWpHeaRP511w85Ljl47AYAS77L3z9qcqUw4Wv48io/htmlRecords/submit"};await(0,pe.Qi)(s).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))},submitRegisterForm(e){let o=this;this.submitRegisterLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitRegisterLoadingStatus=!1,!1;{let e=Object.assign({identity:o.identityValue},this.registerForm);(0,pe.BI)(e).then((e=>{console.log(e),200==e.code&&(1==o.identityValue&&this.submitEducatorContactForm(e.message.id),2!=o.identityValue&&3!=o.identityValue&&4!=o.identityValue&&5!=o.identityValue||this.submitCompanyContactForm(e.message.id),o.submitRegisterLoadingStatus=!1,this.$msgbox({title:"All Set",message:"Let's get you logged in!",dangerouslyUseHTMLString:!1,type:"success",center:!0,confirmButtonText:"OK","round-button":!0,callback(e){console.log(e),"confirm"===e&&(o.$router.push({path:"/login",query:{type:"login",email:o.registerForm.email}}),o.showValue="login")}}))})).catch((e=>{console.log(e),o.submitRegisterLoadingStatus=!1,this.$message.error(e.msg)}))}}))},submitRegisterPhoneForm(e){let o=this;this.submitRegisterLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitRegisterLoadingStatus=!1,!1;{let e=Object.assign({identity:o.identityValue},this.registerPhoneForm);(0,pe.LO)(e).then((e=>{console.log(e),200==e.code&&(1==o.identityValue&&this.submitEducatorContactForm(e.message.id),2!=o.identityValue&&3!=o.identityValue&&4!=o.identityValue&&5!=o.identityValue||this.submitCompanyContactForm(e.message.id),o.submitRegisterLoadingStatus=!1,this.$msgbox({title:"All Set",message:"Let's get you logged in!",dangerouslyUseHTMLString:!1,type:"success",center:!0,confirmButtonText:"OK","round-button":!0,callback(e){console.log(e),"confirm"===e&&(o.$router.push({path:"/login",query:{type:"login",phone:o.registerPhoneForm.phone}}),o.showValue="login")}}))})).catch((e=>{console.log(e),o.submitRegisterLoadingStatus=!1,this.$message.error(e.msg)}))}}))},resetForm(e){this.$refs[e].resetFields()},switchLoginRegister(e){this.showValue=e},async googleSignIn(){try{const e=await this.$gAuth.signIn();if(!e)return null;console.log("googleUser",e),this.user=e.getBasicProfile().getEmail(),console.log("getId",this.user),console.log("getBasicProfile",e.getBasicProfile()),console.log("getAuthResponse",e.getAuthResponse()),console.log("getAuthResponse",this.$gAuth.instance.currentUser.get().getAuthResponse())}catch(e){return console.error(e),null}},async handleClickGetAuthCode(){try{const e=await this.$gAuth.getAuthCode();console.log("authCode",e)}catch(e){return console.error(e),null}},linkedinSignIn(){let e="779x5mbmt7ltgg",o="code",t="https://www.edupassport.io/edupassport/linkedin",s=(0,ye.O1)(),i="r_liteprofile%20r_emailaddress%20w_member_social";window.location.href="https://www.linkedin.com/oauth/v2/authorization?response_type="+o+"&client_id="+e+"&redirect_uri="+t+"&state="+s+"&scope="+i},loginWithPhone(){this.loginPhoneStatus=!this.loginPhoneStatus,this.loginEmailStatus=!this.loginEmailStatus},switchToPhoneBySms(){this.loginByPhoneWithSmsStatus=!this.loginByPhoneWithSmsStatus,this.loginByPhoneWithPasswordStatus=!this.loginByPhoneWithPasswordStatus},forgotPassword(){this.forgotDialogVisible=!0},closeForgotDialog(){this.forgotDialogVisible=!1}}},Ce=t(8118);const Ve=(0,Ce.Z)(ke,[["render",ge],["__scopeId","data-v-2315b188"]]);var Fe=Ve}}]);
//# sourceMappingURL=5495.0c574c8a.js.map