"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[6492],{6492:function(e,i,t){t.d(i,{Z:function(){return si}});var s=t(2744),o=t(6252),n=t(6612);function a(e,i,t,s,a,c){const l=(0,o.up)("el-button");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(l,{link:"",type:"primary",onClick:i[0]||(i[0]=e=>c.chat()),disabled:t.targetUser.user_id==s.currentUser.uuid},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.text),1)])),_:1},8,["disabled"])])}var c=t(2931),l=t(3907),r=t(8339),d={name:"chatComponent",props:["text","targetUser","identity"],setup(){let e=(0,c.iH)(null);const i=i=>{e.value=i},t=(0,l.oR)(),s=(0,r.tv)(),n=e=>t.commit("nowChatUserInfo",e),a=()=>t.commit("showChatStatus",!0);function d(){s.push({path:"/chat/messages"})}const u=(0,o.Fl)((()=>t.state.currentUser));return{thumbsSwiper:e,setThumbsSwiper:i,setNowChatUserInfo:n,setShowChatStatus:a,currentUser:u,turnChatPage:d}},data(){return{}},methods:{chat(){console.log(this.targetUser),console.log(this.currentUser),console.log(this.identity);let e=this,i=this.targetUser,t=this.currentUser,s=this.identity;if(t.uuid==i.user_id)return!1;"disconnected"===this.goEasy.getConnectionStatus()&&this.service.connect(t);let o=localStorage.getItem("token");if(!o||""===o)return this.$router.push("/edupassport");let n,a=this.GoEasy.IM_SCENE.PRIVATE,c=i.display_name,l=i.logo?i.logo:"https://oss.esl-passport.cn/educator.png",r={uuid:i.user_id,name:c,avatar:l,identity:s,companyId:i.id},d=this.goEasy.im.createTextMessage({text:"Hello",to:{id:i.user_id,type:a,data:{name:c,avatar:l,identity:s,companyId:i.id}}});n=a===this.GoEasy.IM_SCENE.PRIVATE?this.service.getPrivateMessages(i.user_id):this.service.getGroupMessages(i.user_id),n.push(d),this.goEasy.im.sendMessage({message:d,onSuccess:function(i){console.log("发送成功.",i),e.setNowChatUserInfo(r),e.turnChatPage()},onFailed:function(e){console.log("发送失败:",e)}})}}},u=t(8118);const m=(0,u.Z)(d,[["render",a]]);var f=m;const g=e=>((0,o.dD)("data-v-30bc6eee"),e=e(),(0,o.Cn)(),e),p={class:"profile-container"},_={key:0,class:"action-container"},v={class:"action-l"},w=(0,o.Uk)(" BACK "),h=g((()=>(0,o._)("div",{class:"action-r"},null,-1))),y=g((()=>(0,o._)("div",{class:"action-l"},null,-1))),k={class:"action-r"},b=(0,o.Uk)(" EDIT PROFILE "),C={class:"img-slot-background"},D={class:"content-bg-container"},S={class:"info-1-container"},x={class:"info-1-l"},W={class:"img-slot-logo"},q={class:"info-1-r"},z={class:"info-1-r-1"},E={class:"info-1-r-c"},I={key:0,class:"info-item"},U=g((()=>(0,o._)("div",{class:"info-item-l"},"Website:",-1))),T={class:"info-item-r"},P={key:1,class:"info-item"},j=g((()=>(0,o._)("div",{class:"info-item-l"},"Work phone:",-1))),F={class:"info-item-r"},M={key:2,class:"info-item"},$=g((()=>(0,o._)("div",{class:"info-item-l"},"Work email:",-1))),N={class:"info-item-r"},O={key:3,class:"info-item"},A=g((()=>(0,o._)("div",{class:"info-item-l"},"Location:",-1))),G={class:"info-item-r"},H={key:4,class:"info-item"},R=g((()=>(0,o._)("div",{class:"info-item-l"},"Address:",-1))),L={class:"info-item-r"},Z={key:5,class:"info-item"},J={key:0,class:"info-item-l"},B={key:1,class:"info-item-l"},V={key:2,class:"info-item-l"},Y={key:3,class:"info-item-l"},K={class:"info-item-r"},Q={key:6,class:"info-item"},X=g((()=>(0,o._)("div",{class:"info-item-l"},"Founded:",-1))),ee={class:"info-item-r"},ie={key:7,class:"info-item"},te=g((()=>(0,o._)("div",{class:"info-item-l"},"Tuition:",-1))),se={class:"info-item-r"},oe={key:8,class:"info-item"},ne=g((()=>(0,o._)("div",{class:"info-item-l"},"Avg class size:",-1))),ae={class:"info-item-r"},ce={class:"contact-container"},le=g((()=>(0,o._)("div",{class:"contact-label"},"Contact person",-1))),re={class:"contact-c"},de={class:"contact-l"},ue={class:"contact-r"},me={class:"contact-r-1"},fe={class:"contact-r-2"},ge={class:"about-container"},pe={class:"about-label"},_e=["innerHTML"],ve={key:0,class:"video-container"},we=["src"],he={key:1,class:"images-container"},ye={class:"img-slot-swiper"},ke={key:2,class:"expect-container"},be=g((()=>(0,o._)("div",{class:"expect-label"},"What to expect",-1))),Ce={class:"expect-c"},De={key:0,class:"expect-c-item"},Se=g((()=>(0,o._)("div",{class:"expect-c-item-label"},"Curriculum",-1))),xe={class:"expect-c-item-c"},We={key:1,class:"expect-c-item"},qe=g((()=>(0,o._)("div",{class:"expect-c-item-label"},"Subjects we teach",-1))),ze={class:"expect-c-item-c"},Ee={key:2,class:"expect-c-item"},Ie=g((()=>(0,o._)("div",{class:"expect-c-item-label"},"Student's age",-1))),Ue={class:"expect-c-item-c"},Te={key:3,class:"expect-c-item"},Pe=g((()=>(0,o._)("div",{class:"expect-c-item-label"},"Technology available",-1))),je={class:"expect-c-item-c"},Fe={key:4,class:"expect-c-item"},Me=g((()=>(0,o._)("div",{class:"expect-c-item-label"},"Facilities",-1))),$e={class:"expect-c-item-c"},Ne={class:"expect-c-item"},Oe=g((()=>(0,o._)("div",{class:"expect-c-item-label"},"Field trips",-1))),Ae={key:0,class:"expect-c-item-c"},Ge={key:1,class:"expect-c-item-c"},He={key:4,class:"cre-container"},Re=g((()=>(0,o._)("div",{class:"cre-label"},"Credibility",-1))),Le=g((()=>(0,o._)("div",{class:"cre-item-label"},"Business registration certificate",-1))),Ze={key:0,class:"cre-item-img-container"},Je={class:"img-slot-cre"},Be=g((()=>(0,o._)("div",{class:"cre-item-label"},"License",-1))),Ve={key:0,class:"cre-item-img-container"},Ye={class:"img-slot-cre"};function Ke(e,i,t,a,c,l){const r=(0,o.up)("ArrowLeft"),d=(0,o.up)("el-icon"),u=(0,o.up)("el-button"),m=(0,o.up)("Picture"),g=(0,o.up)("el-image"),Ke=(0,o.up)("el-avatar"),Qe=f,Xe=(0,o.up)("swiper-slide"),ei=(0,o.up)("swiper"),ii=s.Z,ti=(0,o.up)("el-col"),si=(0,o.up)("el-row"),oi=(0,o.up)("el-scrollbar");return(0,o.wg)(),(0,o.iD)("div",p,[t.canEdit?((0,o.wg)(),(0,o.iD)("div",_,[t.fromDeal?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",v,[(0,o.Wm)(u,{class:"",onClick:i[0]||(i[0]=e=>l.backToSearchResults()),link:""},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r)])),_:1}),w])),_:1})]),h],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[y,(0,o._)("div",k,[(0,o.Wm)(u,{class:"action-edit-btn",onClick:i[1]||(i[1]=e=>l.editProfile()),plain:"",round:""},{default:(0,o.w5)((()=>[b])),_:1})])],64))])):(0,o.kq)("",!0),(0,o.Wm)(oi,{class:(0,n.C_)(t.canEdit?"container":"container-2")},{default:(0,o.w5)((()=>[t.info.background_image&&"0"!=t.info.background_image?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"background-container",style:(0,n.j5)("background-image:url("+t.info.background_image+")")},[(0,o.Wm)(g,{class:"background-img",src:t.info.background_image,fit:"contain"},{error:(0,o.w5)((()=>[(0,o._)("div",C,[(0,o.Wm)(d,{size:180,color:"#808080"},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1})])])),_:1},8,["src"])],4)):(0,o.kq)("",!0),(0,o._)("div",D,[(0,o._)("div",S,[(0,o._)("div",x,[(0,o.Wm)(g,{class:"logo-img",src:t.info.logo},{error:(0,o.w5)((()=>[(0,o._)("div",W,[(0,o.Wm)(d,{size:60,color:"#808080"},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1})])])),_:1},8,["src"])]),(0,o._)("div",q,[(0,o._)("div",z,(0,n.zw)(t.info.company_name),1),(0,o._)("div",E,[t.info.website?((0,o.wg)(),(0,o.iD)("div",I,[U,(0,o._)("div",T,(0,n.zw)(t.info.website),1)])):(0,o.kq)("",!0),t.info.work_phone?((0,o.wg)(),(0,o.iD)("div",P,[j,(0,o._)("div",F,(0,n.zw)(t.info.work_phone),1)])):(0,o.kq)("",!0),t.info.work_email?((0,o.wg)(),(0,o.iD)("div",M,[$,(0,o._)("div",N,(0,n.zw)(t.info.work_email),1)])):(0,o.kq)("",!0),t.info.country_info&&e.$filters.countryInfoFormat(t.info.country_info)?((0,o.wg)(),(0,o.iD)("div",O,[A,(0,o._)("div",G,(0,n.zw)(e.$filters.countryInfoFormat(t.info.country_info)),1)])):(0,o.kq)("",!0),t.info.address?((0,o.wg)(),(0,o.iD)("div",H,[R,(0,o._)("div",L,(0,n.zw)(t.info.address),1)])):(0,o.kq)("",!0),t.info.category_name_en&&"0"!=t.info.category_name_en?((0,o.wg)(),(0,o.iD)("div",Z,[2==t.identity?((0,o.wg)(),(0,o.iD)("div",J,"Recruiter type:")):(0,o.kq)("",!0),3==t.identity?((0,o.wg)(),(0,o.iD)("div",B,"School type:")):(0,o.kq)("",!0),4==t.identity?((0,o.wg)(),(0,o.iD)("div",V,"Other type:")):(0,o.kq)("",!0),5==t.identity?((0,o.wg)(),(0,o.iD)("div",Y,"Vendor type:")):(0,o.kq)("",!0),(0,o._)("div",K,(0,n.zw)(t.info.category_name_en),1)])):(0,o.kq)("",!0),t.info.year_founded?((0,o.wg)(),(0,o.iD)("div",Q,[X,(0,o._)("div",ee,(0,n.zw)(t.info.year_founded),1)])):(0,o.kq)("",!0),3==t.identity&&t.info.tuition_type&&t.info.tuition?((0,o.wg)(),(0,o.iD)("div",ie,[te,(0,o._)("div",se,(0,n.zw)(t.info.tuitions.object_en)+" "+(0,n.zw)(t.info.tuition),1)])):(0,o.kq)("",!0),3==t.identity&&t.info.class_size?((0,o.wg)(),(0,o.iD)("div",oe,[ne,(0,o._)("div",ae,(0,n.zw)(t.info.class_size),1)])):(0,o.kq)("",!0)])])]),(0,o._)("div",ce,[le,(0,o._)("div",re,[(0,o._)("div",de,[(0,o.Wm)(Ke,{class:"contact-l-img",src:t.info.profile_photo},null,8,["src"])]),(0,o._)("div",ue,[(0,o._)("div",me,[(0,o.Uk)((0,n.zw)(t.info.display_name)+" ",1),(0,o._)("span",null,(0,n.zw)(t.info.job_title),1)]),(0,o._)("div",fe,[(0,o.Wm)(Qe,{text:"GET IN TOUCH",targetUser:t.info,identity:t.identity},null,8,["targetUser","identity"])])])])]),(0,o._)("div",ge,[(0,o._)("div",pe,"About "+(0,n.zw)(t.info.company_name),1),(0,o._)("div",{class:"about-desc",innerHTML:t.info.desc},null,8,_e)]),t.info.video_url?((0,o.wg)(),(0,o.iD)("div",ve,[(0,o._)("video",{id:"video",controls:"",src:t.info.video_url},null,8,we)])):(0,o.kq)("",!0),t.info.images?((0,o.wg)(),(0,o.iD)("div",he,[(0,o.Wm)(ei,{style:{"--swiper-navigation-color":"#000000","--swiper-pagination-color":"#000000"},slidesPerView:4,slidersPerGroup:4,loop:!1,loopFillGroupWithBlank:!0,spaceBetween:50,pagination:{clickable:!0},navigation:!0,class:"mySwiper2"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.info.images,((e,i)=>((0,o.wg)(),(0,o.j4)(Xe,{key:i},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{class:"images-item-img",src:e.url},{error:(0,o.w5)((()=>[(0,o._)("div",ye,[(0,o.Wm)(d,{size:80,color:"#808080"},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1})])])),_:2},1032,["src"])])),_:2},1024)))),128))])),_:1})])):(0,o.kq)("",!0),3==t.identity?((0,o.wg)(),(0,o.iD)("div",ke,[be,(0,o._)("div",Ce,[t.info.staff_student_ratio?((0,o.wg)(),(0,o.iD)("div",De,[Se,(0,o._)("div",xe,(0,n.zw)(t.info.staff_student_ratio),1)])):(0,o.kq)("",!0),e.$filters.userObjectFormat(t.info.subject)?((0,o.wg)(),(0,o.iD)("div",We,[qe,(0,o._)("div",ze,(0,n.zw)(e.$filters.userObjectFormat(t.info.subject)),1)])):(0,o.kq)("",!0),e.$filters.userObjectFormat(t.info.Student_Age)?((0,o.wg)(),(0,o.iD)("div",Ee,[Ie,(0,o._)("div",Ue,(0,n.zw)(e.$filters.userObjectFormat(t.info.Student_Age)),1)])):(0,o.kq)("",!0),t.info.technology_available?((0,o.wg)(),(0,o.iD)("div",Te,[Pe,(0,o._)("div",je,(0,n.zw)(t.info.technology_available),1)])):(0,o.kq)("",!0),e.$filters.userObjectFormat(t.info.facilities)?((0,o.wg)(),(0,o.iD)("div",Fe,[Me,(0,o._)("div",$e,(0,n.zw)(e.$filters.userObjectFormat(t.info.facilities)),1)])):(0,o.kq)("",!0),(0,o._)("div",Ne,[Oe,1==t.info.felds_trips?((0,o.wg)(),(0,o.iD)("div",Ae," Yes ")):((0,o.wg)(),(0,o.iD)("div",Ge," No "))])])])):(0,o.kq)("",!0),t.info.lng&&t.info.lat?((0,o.wg)(),(0,o.j4)(ii,{key:3,lng:t.info.lng,lat:t.info.lat},null,8,["lng","lat"])):(0,o.kq)("",!0),t.info.business_reg_img||t.info.license?((0,o.wg)(),(0,o.iD)("div",He,[Re,(0,o.Wm)(si,{class:"cre-c",gutter:0},{default:(0,o.w5)((()=>[(0,o.Wm)(ti,{span:12},{default:(0,o.w5)((()=>[Le,t.info.business_reg_img?((0,o.wg)(),(0,o.iD)("div",Ze,[(0,o.Wm)(g,{class:"cre-item-img",src:t.info.business_reg_img},{error:(0,o.w5)((()=>[(0,o._)("div",Je,[(0,o.Wm)(d,{size:80,color:"#808080"},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1})])])),_:1},8,["src"])])):(0,o.kq)("",!0)])),_:1}),3==t.identity||4==t.identity?((0,o.wg)(),(0,o.j4)(ti,{key:0,span:12},{default:(0,o.w5)((()=>[Be,t.info.license?((0,o.wg)(),(0,o.iD)("div",Ve,[(0,o.Wm)(g,{class:"cre-item-img",src:t.info.license},{error:(0,o.w5)((()=>[(0,o._)("div",Ye,[(0,o.Wm)(d,{size:80,color:"#808080"},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1})])])),_:1},8,["src"])])):(0,o.kq)("",!0)])),_:1})):(0,o.kq)("",!0)])),_:1})])):(0,o.kq)("",!0)])])),_:1},8,["class"])])}var Qe=t(3181),Xe=t(1911),ei=t(4276);Xe.ZP.use([Xe.pt,Xe.W_,Xe.tl]);var ii={name:"businessProfile",props:["info","identity","canEdit","fromDeal"],components:{Swiper:Qe.t,SwiperSlide:Qe.o,mapComponent:s.Z,chatButton:f},setup(){let e=(0,c.iH)(null);const i=i=>{e.value=i},t=(0,l.oR)(),s=(0,r.tv)(),n=e=>t.commit("nowChatUserInfo",e),a=()=>t.commit("showChatStatus",!0);function d(){s.push({path:"/chat/messages"})}const u=(0,o.Fl)((()=>t.state.currentUser));return{thumbsSwiper:e,setThumbsSwiper:i,setNowChatUserInfo:n,setShowChatStatus:a,currentUser:u,turnChatPage:d}},methods:{exitPreview(){this.$router.push("/account/home")},backToSearchResults(){this.$emit("back")},editProfile(){let e=this.info.id,i=this.identity,t="";if(e){let i={cid:e,action:"edit"};t=(0,ei.cv)(JSON.stringify(i))}else{let e={i:i,action:"add"};t=(0,ei.cv)(JSON.stringify(e))}2==i&&this.$router.push({path:"/business/edit/recruiter",query:{s:t}}),3==i&&this.$router.push({path:"/business/edit/school",query:{s:t}}),4==i&&this.$router.push({path:"/business/edit/other",query:{s:t}}),5==i&&this.$router.push({path:"/vendor/edit/vendor",query:{s:t}})},chat(e){let i=this.currentUser;"disconnected"===this.goEasy.getConnectionStatus()&&this.service.connect(i),console.log(e);let t=localStorage.getItem("token");if(!t||""===t)return this.$router.push("/edupassport");let s,o=this.info,n=this.GoEasy.IM_SCENE.PRIVATE,a=o.display_name,c=o.logo?o.logo:"https://oss.esl-passport.cn/educator.png",l={uuid:e,name:a,avatar:c,identity:this.identity},r=this.goEasy.im.createTextMessage({text:"Hello",to:{id:e,type:n,data:{name:a,avatar:c,identity:this.identity}}});s=n===this.GoEasy.IM_SCENE.PRIVATE?this.service.getPrivateMessages(e):this.service.getGroupMessages(e),s.push(r),this.goEasy.im.sendMessage({message:r,onSuccess:function(e){console.log("发送成功.",e)},onFailed:function(e){console.log("发送失败:",e)}}),this.setNowChatUserInfo(l),this.turnChatPage()}}};const ti=(0,u.Z)(ii,[["render",Ke],["__scopeId","data-v-30bc6eee"]]);var si=ti},2744:function(e,i,t){t.d(i,{Z:function(){return _}});var s=t(6252);const o=e=>((0,s.dD)("data-v-91374174"),e=e(),(0,s.Cn)(),e),n={class:"map-container"},a=o((()=>(0,s._)("div",{id:"mapContainer",class:"basemap"},null,-1))),c=[a];function l(e,i,t,o,a,l){return(0,s.wg)(),(0,s.iD)("div",n,c)}var r=t(6158),d=t.n(r),u=t(8847),m=t.n(u),f={name:"mapComponent",props:["lat","lng"],setup(){return{}},data(){return{accessToken:"pk.eyJ1Ijoic3JrbGluZ2UiLCJhIjoiY2t2NnR4anI2OWU5NDJ3bWE1dHd3c3h1aSJ9.O0JfjqiyBBkFuf4G-DQ-DQ",mapStyle:"mapbox://styles/mapbox/streets-v11"}},mounted(){let e=this;setTimeout((function(){e.initMap(e.lng,e.lat)}),2e3)},methods:{initMap(e,i){d().accessToken=this.accessToken;const t=new(d().Map)({container:"mapContainer",center:[e,i],style:this.mapStyle,zoom:12}),s=new(d().NavigationControl);t.addControl(s,"top-right");const o=new(d().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0});t.addControl(o,"top-right");const n=new(m())({accessToken:this.accessToken,mapboxgl:d()});t.addControl(n,"top-left");const a=new(d().Marker);a.setLngLat([e,i]).addTo(t)}}},g=t(8118);const p=(0,g.Z)(f,[["render",l],["__scopeId","data-v-91374174"]]);var _=p}}]);
//# sourceMappingURL=6492.3df98fae.js.map