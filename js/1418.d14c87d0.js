"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[1418],{7876:function(e,t,i){i.d(t,{Z:function(){return k}});var a=i(6252),n=i(6612);const s={class:"menu-btn-container"},o=(0,a.Uk)("Menu"),d={key:0,class:"profile-l-container"},c={class:"l-container"},l=["Key"];function u(e,t,i,u,r,h){const m=(0,a.up)("el-button"),g=(0,a.up)("el-image"),w=(0,a.up)("router-link"),_=(0,a.up)("el-scrollbar");return(0,a.wg)(),(0,a.j4)(_,{class:"menu-xll-bg-container"},{default:(0,a.w5)((()=>[(0,a._)("div",s,[(0,a.Wm)(m,{class:"menu-btn",type:"primary",onClick:t[0]||(t[0]=e=>h.showSideMenu())},{default:(0,a.w5)((()=>[o])),_:1})]),r.showSideMenuStatus?((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.menuData,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"l-item l-item-margin",Key:t},[(0,a.Wm)(w,{class:(0,n.C_)(u.selectedKeys===e.link?"router-link-exact-active":""),to:{path:e.link},exact:""},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"xll-icon-image",src:e.icon},null,8,["src"]),(0,a._)("span",null,(0,n.zw)(e.menu_name_en),1)])),_:2},1032,["class","to"])],8,l)))),256))])])):(0,a.kq)("",!0)])),_:1})}var r=i(1474),h=i(1836),m=i(5323),g=i(3907),w=i(8339),_=i(2931),y={name:"meSideMenu",setup(){const e=(0,g.oR)(),t=t=>e.commit("nowChatUserInfo",t),i=()=>e.commit("showChatStatus",!0),a=(0,w.yj)(),n=a.meta.activeMenu,s=(0,_.iH)(n||a.path);return{setNowChatUserInfo:t,setShowChatStatus:i,selectedKeys:s}},data(){return{defaultAvatar:m,accountInfo:{},accountPhotoValue:"",versionTime:(0,r.O1)(),activeMsg:!1,showSideMenuStatus:!0}},watch:{menuData(e){console.log(e)}},computed:{username:{get(){return this.$store.state.username}},userAvatar:{get(){return this.$store.state.userAvatar}},identity:{get(){return this.$store.state.identity}},menuData:{get(){return this.$store.state.menuData}}},mounted(){let e=document.body.clientWidth;Math.floor(e)<768&&(this.showSideMenuStatus=!1),Math.floor(e)>=768&&Math.floor(e)<992&&(this.showSideMenuStatus=!0),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.showSideMenuStatus=!0),Math.floor(e)>=1200&&(this.showSideMenuStatus=!0),window.onresize=()=>{let e=document.body.clientWidth;Math.floor(e)<768&&(this.showSideMenuStatus=!1),Math.floor(e)>=768&&Math.floor(e)<992&&(this.showSideMenuStatus=!0),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.showSideMenuStatus=!0),Math.floor(e)>=1200&&(this.showSideMenuStatus=!0)}},methods:{showSideMenu(){this.showSideMenuStatus=!this.showSideMenuStatus},getUserMenuList(){let e=this,t={user_id:localStorage.getItem("uid"),identity:e.identity,company_id:localStorage.getItem("company_id"),create_user_id:localStorage.getItem("c_uid"),page:1,limit:1e3};(0,h.$Z)(t).then((t=>{if(200===t.code){let i=t.message.pc,a=i.filter((t=>t.identity==e.identity));this.$store.commit("menuData",a)}})).catch((e=>{console.log(e)}))},turnMyMessages(){this.setShowChatStatus()}}},v=i(8118);const M=(0,v.Z)(y,[["render",u],["__scopeId","data-v-73c372ce"]]);var k=M},1418:function(e,t,i){i.r(t),i.d(t,{default:function(){return B}});var a=i(7876),n=i(6252),s=i(6612);const o=e=>((0,n.dD)("data-v-77d4f9fd"),e=e(),(0,n.Cn)(),e),d={class:"bg"},c={class:"profile-container"},l={class:"add-agent-bg"},u=o((()=>(0,n._)("h2",null,"Add an Agent",-1))),r={class:"add-agent-container"},h=o((()=>(0,n._)("h3",null,"Account & Access",-1))),m=o((()=>(0,n._)("div",{class:"add-agent-underline"},null,-1))),g={key:0,class:"email-container"},w={class:"qx-container"},_=(0,n.Uk)(" Educator Account "),y=o((()=>(0,n._)("div",null," Choose what the added user will have access to: ",-1))),v={class:"qx-checked-container"},M=["onClick"],k={class:"qx-checked-label"},f=o((()=>(0,n._)("div",null," Choose what the added user will have access to: ",-1))),p={class:"qx-checked-container"},q=["onClick"],D={class:"qx-checked-label"},S=o((()=>(0,n._)("div",null," Choose what the added user will have access to: ",-1))),x={class:"qx-checked-container"},C=["onClick"],I={class:"qx-checked-label"},$=o((()=>(0,n._)("div",null," Choose what the added user will have access to: ",-1))),b={class:"qx-checked-container"},A=["onClick"],L={class:"qx-checked-label"},U=o((()=>(0,n._)("div",null," Choose what the added user will have access to: ",-1))),W={class:"qx-checked-container"},j=["onClick"],K={class:"qx-checked-label"},H={class:"add-agent-btn-container"},z=(0,n.Uk)(" Update "),O=(0,n.Uk)(" Add "),Y=(0,n.Uk)(" Delete ");function Z(e,t,i,o,Z,E){const V=a.Z,N=(0,n.up)("el-col"),P=(0,n.up)("el-input"),B=(0,n.up)("el-collapse-item"),R=(0,n.up)("el-collapse"),T=(0,n.up)("el-button"),F=(0,n.up)("el-popconfirm"),G=(0,n.up)("el-row");return(0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("div",c,[(0,n.Wm)(G,{align:"top",justify:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(N,{xs:24,sm:24,md:4,lg:4,xl:4},{default:(0,n.w5)((()=>[(0,n.Wm)(V)])),_:1}),(0,n.Wm)(N,{xs:24,sm:24,md:20,lg:20,xl:20},{default:(0,n.w5)((()=>[(0,n._)("div",l,[u,(0,n._)("div",r,[h,m,"edit"!=Z.action?((0,n.wg)(),(0,n.iD)("div",g,[(0,n.Wm)(P,{placeholder:"Email",modelValue:Z.email,"onUpdate:modelValue":t[0]||(t[0]=e=>Z.email=e)},null,8,["modelValue"])])):(0,n.kq)("",!0),(0,n._)("div",w,[(0,n.Wm)(R,{accordion:""},{default:(0,n.w5)((()=>[1==E.identity?((0,n.wg)(),(0,n.j4)(B,{key:0,name:"1"},{title:(0,n.w5)((()=>[_])),default:(0,n.w5)((()=>[y,(0,n._)("div",v,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Z.educatorMenuData,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"qx-checked-item",key:t,onClick:t=>E.menuItemSelected(e)},[(0,n._)("div",k,(0,s.zw)(e.menu_name_en),1),(0,n._)("div",{class:(0,s.C_)(["qx-checked-square",-1==Z.sMenuItemData.indexOf(e.id)?"":"qx-checked-square-active"])},null,2)],8,M)))),128))])])),_:1})):(0,n.kq)("",!0),2==E.identity?((0,n.wg)(),(0,n.j4)(B,{key:1,title:"Edu Business Account (Recruiter)",name:"2"},{default:(0,n.w5)((()=>[f,(0,n._)("div",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Z.recruiterMenuData,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"qx-checked-item",key:t,onClick:t=>E.menuItemSelected(e)},[(0,n._)("div",D,(0,s.zw)(e.menu_name_en),1),(0,n._)("div",{class:(0,s.C_)(["qx-checked-square",-1==Z.sMenuItemData.indexOf(e.id)?"":"qx-checked-square-active"])},null,2)],8,q)))),128))])])),_:1})):(0,n.kq)("",!0),3==E.identity?((0,n.wg)(),(0,n.j4)(B,{key:2,title:"Edu Business Account (School)",name:"3"},{default:(0,n.w5)((()=>[S,(0,n._)("div",x,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Z.schoolMenuData,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"qx-checked-item",key:t,onClick:t=>E.menuItemSelected(e)},[(0,n._)("div",I,(0,s.zw)(e.menu_name_en),1),(0,n._)("div",{class:(0,s.C_)(["qx-checked-square",-1==Z.sMenuItemData.indexOf(e.id)?"":"qx-checked-square-active"])},null,2)],8,C)))),128))])])),_:1})):(0,n.kq)("",!0),4==E.identity?((0,n.wg)(),(0,n.j4)(B,{key:3,title:"Edu Business Account (Other)",name:"4"},{default:(0,n.w5)((()=>[$,(0,n._)("div",b,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Z.otherMenuData,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"qx-checked-item",key:t,onClick:t=>E.menuItemSelected(e)},[(0,n._)("div",L,(0,s.zw)(e.menu_name_en),1),(0,n._)("div",{class:(0,s.C_)(["qx-checked-square",-1==Z.sMenuItemData.indexOf(e.id)?"":"qx-checked-square-active"])},null,2)],8,A)))),128))])])),_:1})):(0,n.kq)("",!0),5==E.identity?((0,n.wg)(),(0,n.j4)(B,{key:4,title:"Vendor Account",name:"5"},{default:(0,n.w5)((()=>[U,(0,n._)("div",W,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Z.vendorMenuData,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"qx-checked-item",key:t,onClick:t=>E.menuItemSelected(e)},[(0,n._)("div",K,(0,s.zw)(e.menu_name_en),1),(0,n._)("div",{class:(0,s.C_)(["qx-checked-square",-1==Z.sMenuItemData.indexOf(e.id)?"":"qx-checked-square-active"])},null,2)],8,j)))),128))])])),_:1})):(0,n.kq)("",!0)])),_:1})]),(0,n._)("div",H,[(0,n.Wm)(T,{type:"primary",loading:Z.addLoading,onClick:t[1]||(t[1]=e=>E.addMenu())},{default:(0,n.w5)((()=>["edit"==Z.action?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[z],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[O],64))])),_:1},8,["loading"]),"edit"==Z.action?((0,n.wg)(),(0,n.j4)(F,{key:0,title:"Are you sure to delete this?",onConfirm:t[2]||(t[2]=e=>E.deleteUserMenu())},{reference:(0,n.w5)((()=>[(0,n.Wm)(T,{type:"danger",loading:Z.deleteLoading},{default:(0,n.w5)((()=>[Y])),_:1},8,["loading"])])),_:1})):(0,n.kq)("",!0)])])])])),_:1})])),_:1})])])}var E=i(1836),V={name:"add",components:{meSideMenu:a.Z},setup(){},data(){return{educatorMenuData:[],recruiterMenuData:[],schoolMenuData:[],otherMenuData:[],vendorMenuData:[],sMenuItemData:[],email:"",addLoading:!1,action:"",deleteLoading:!1}},computed:{identity:{get(){return this.$store.state.identity}}},async mounted(){await this.getAllMenuList(),this.action=this.$route.query.action;let e=this.$route.query.action,t=this.$route.query.uid,i=this.$route.query.cId;"edit"==e&&await this.getUserAdminMenuList(t,this.identity,i)},methods:{deleteUserMenu(){let e=this;this.deleteLoading=!0;let t=this.$route.query.uid,i=this.$route.query.cId,a={user_id:t,identity:e.identity,company_id:i};(0,E.iu)(a).then((t=>{console.log(t),200==t.code&&(this.deleteLoading=!1,this.$router.push({path:"/overview",query:{identity:e.identity}}))})).catch((e=>{console.log(e)}))},async getUserAdminMenuList(e,t,i){let a={user_id:e,identity:t,company_id:i};await(0,E.uc)(a).then((e=>{if(console.log(e),200==e.code){let t=e.message;t.forEach((e=>{this.sMenuItemData.push(Number(e.menu_id))}))}})).catch((e=>{console.log(e)}))},addMenu(){let e=this.identity,t=this.email,i=localStorage.getItem("company_id"),a=this.$route.query.action;if("edit"!=a&&""==this.email)return void this.$message.warning("Please enter email");let n=this.sMenuItemData;if(n.length<=0)return void this.$message.warning("Choose what the added user will have access to");this.addLoading=!0;let s={};if("edit"==a){let t=this.$route.query.uid,i=this.$route.query.cId;(0,E.Uz)({user_id:Number(t),company_id:Number(i)}).then((a=>{console.log(a),200==a.code&&(s={user_id:t,identity:e,company_id:i,menu_id:n.join(",")},(0,E.P0)(s).then((t=>{console.log(t),200==t.code&&(this.addLoading=!1,this.$message.success("Success "),this.$router.push({path:"/overview",query:{identity:e}}))})).catch((e=>{console.log(e),this.addLoading=!1})))})).catch((e=>{console.log(e)}))}else s={email:t,identity:e,company_id:i,menu_id:n.join(",")},(0,E.P0)(s).then((t=>{console.log(t),200==t.code&&(this.addLoading=!1,this.$message.success("Success "),this.$router.push({path:"/overview",query:{identity:e}}))})).catch((e=>{console.log(e),this.addLoading=!1}))},menuItemSelected(e){let t=this.sMenuItemData,i=t.indexOf(e.id);-1===i?this.sMenuItemData.push(e.id):this.sMenuItemData.splice(i,1),console.log(this.sMenuItemData)},getUserMenuList(){let e=this,t={user_id:localStorage.getItem("uid"),identity:e.identity,company_id:localStorage.getItem("company_id"),create_user_id:localStorage.getItem("uid"),page:1,limit:1e3};(0,E.$Z)(t).then((t=>{if(200===t.code){let i=t.message.pc;1==e.identity&&(this.educatorMenuData=i),2==e.identity&&(this.recruiterMenuData=i),3==e.identity&&(this.schoolMenuData=i),4==e.identity&&(this.otherMenuData=i),5==e.identity&&(this.vendorMenuData=i)}})).catch((e=>{console.log(e)}))},async getAllMenuList(){let e={};await(0,E.Lg)(e).then((e=>{if(console.log(e),200==e.code){let t=e.message,i=t.educator,a=t.recruiting,n=t.school,s=t.other,o=t.vendor;this.educatorMenuData=i,this.recruiterMenuData=a,this.schoolMenuData=n,this.otherMenuData=s,this.vendorMenuData=o}})).catch((e=>{console.log(e)}))}}},N=i(8118);const P=(0,N.Z)(V,[["render",Z],["__scopeId","data-v-77d4f9fd"]]);var B=P}}]);
//# sourceMappingURL=1418.d14c87d0.js.map