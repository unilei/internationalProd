"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[1418],{3515:function(e,t,a){a.d(t,{Z:function(){return f}});var i=a(6252),n=a(6612);const s={class:"menu-btn-container"},o=(0,i.Uk)("Menu"),d={key:0,class:"profile-l-container"},l={class:"l-container"},c=["Key"],u={key:0,class:"item-head_unread"};function r(e,t,a,r,h,m){const g=(0,i.up)("el-button"),w=(0,i.up)("el-image"),_=(0,i.up)("router-link"),y=(0,i.up)("el-scrollbar");return(0,i.wg)(),(0,i.j4)(y,{class:"menu-xll-bg-container"},{default:(0,i.w5)((()=>[(0,i._)("div",s,[(0,i.Wm)(g,{class:"menu-btn",type:"primary",onClick:t[0]||(t[0]=e=>m.showSideMenu())},{default:(0,i.w5)((()=>[o])),_:1})]),h.showSideMenuStatus?((0,i.wg)(),(0,i.iD)("div",d,[(0,i._)("div",l,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(m.menuData,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"l-item l-item-margin",Key:t},[(0,i.Wm)(_,{class:(0,n.C_)(r.selectedKeys===e.link?"router-link-exact-active":""),to:{path:e.link},exact:""},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{class:"xll-icon-image",src:e.icon},null,8,["src"]),(0,i._)("span",null,(0,n.zw)(e.menu_name_en),1)])),_:2},1032,["class","to"]),"MESSAGES"===e.menu_name_en&&m.unreadTotal>0?((0,i.wg)(),(0,i.iD)("div",u,(0,n.zw)(m.unreadTotal),1)):(0,i.kq)("",!0)],8,c)))),256))])])):(0,i.kq)("",!0)])),_:1})}var h=a(1474),m=a(1836),g=a(5323),w=a(3907),_=a(8339),y=a(2931),v={name:"meSideMenu",setup(){const e=(0,w.oR)(),t=t=>e.commit("nowChatUserInfo",t),a=()=>e.commit("showChatStatus",!0),n=(0,_.yj)(),s=n.meta.activeMenu,o=(0,y.iH)(s||n.path),d=(0,i.Fl)((()=>e.state.currentUser));return{setNowChatUserInfo:t,setShowChatStatus:a,selectedKeys:o,currentUser:d}},data(){return{defaultAvatar:g,accountInfo:{},accountPhotoValue:"",versionTime:(0,h.O1)(),activeMsg:!1,showSideMenuStatus:!0}},watch:{menuData(e){console.log(e)},unreadTotal(e){console.log(e)}},computed:{username:{get(){return this.$store.state.username}},userAvatar:{get(){return this.$store.state.userAvatar}},identity:{get(){return this.$store.state.identity}},menuData:{get(){return this.$store.state.menuData}},unreadTotal:{get(){return this.$store.state.imUnreadTotal}}},mounted(){let e=document.body.clientWidth;Math.floor(e)<768&&(this.showSideMenuStatus=!1),Math.floor(e)>=768&&Math.floor(e)<992&&(this.showSideMenuStatus=!0),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.showSideMenuStatus=!0),Math.floor(e)>=1200&&(this.showSideMenuStatus=!0),window.onresize=()=>{let e=document.body.clientWidth;Math.floor(e)<768&&(this.showSideMenuStatus=!1),Math.floor(e)>=768&&Math.floor(e)<992&&(this.showSideMenuStatus=!0),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.showSideMenuStatus=!0),Math.floor(e)>=1200&&(this.showSideMenuStatus=!0)}},methods:{showSideMenu(){this.showSideMenuStatus=!this.showSideMenuStatus},getUserMenuList(){let e=this,t={user_id:localStorage.getItem("uid"),identity:e.identity,company_id:localStorage.getItem("company_id"),create_user_id:localStorage.getItem("c_uid"),page:1,limit:1e3};(0,m.$Z)(t).then((t=>{if(200===t.code){let a=t.message.pc,i=a.filter((t=>t.identity==e.identity));this.$store.commit("menuData",i)}})).catch((e=>{console.log(e)}))},turnMyMessages(){this.setShowChatStatus()}}},M=a(8118);const k=(0,M.Z)(v,[["render",r],["__scopeId","data-v-f4e9da0c"]]);var f=k},1418:function(e,t,a){a.r(t),a.d(t,{default:function(){return P}});var i=a(3515),n=a(6252),s=a(6612);const o=e=>((0,n.dD)("data-v-77d4f9fd"),e=e(),(0,n.Cn)(),e),d={class:"bg"},l={class:"profile-container"},c={class:"add-agent-bg"},u=o((()=>(0,n._)("h2",null,"Add an Agent",-1))),r={class:"add-agent-container"},h=o((()=>(0,n._)("h3",null,"Account & Access",-1))),m=o((()=>(0,n._)("div",{class:"add-agent-underline"},null,-1))),g={key:0,class:"email-container"},w={class:"qx-container"},_=(0,n.Uk)(" Educator Account "),y=o((()=>(0,n._)("div",null," Choose what the added user will have access to: ",-1))),v={class:"qx-checked-container"},M=["onClick"],k={class:"qx-checked-label"},f=o((()=>(0,n._)("div",null," Choose what the added user will have access to: ",-1))),p={class:"qx-checked-container"},q=["onClick"],D={class:"qx-checked-label"},S=o((()=>(0,n._)("div",null," Choose what the added user will have access to: ",-1))),x={class:"qx-checked-container"},C=["onClick"],I={class:"qx-checked-label"},$=o((()=>(0,n._)("div",null," Choose what the added user will have access to: ",-1))),b={class:"qx-checked-container"},A=["onClick"],U={class:"qx-checked-label"},L=o((()=>(0,n._)("div",null," Choose what the added user will have access to: ",-1))),W={class:"qx-checked-container"},j=["onClick"],K={class:"qx-checked-label"},z={class:"add-agent-btn-container"},H=(0,n.Uk)(" Update "),E=(0,n.Uk)(" Add "),O=(0,n.Uk)(" Delete ");function Y(e,t,a,o,Y,Z){const T=i.Z,V=(0,n.up)("el-col"),N=(0,n.up)("el-input"),P=(0,n.up)("el-collapse-item"),B=(0,n.up)("el-collapse"),R=(0,n.up)("el-button"),F=(0,n.up)("el-popconfirm"),G=(0,n.up)("el-row");return(0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("div",l,[(0,n.Wm)(G,{align:"top",justify:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(V,{xs:24,sm:24,md:4,lg:4,xl:4},{default:(0,n.w5)((()=>[(0,n.Wm)(T)])),_:1}),(0,n.Wm)(V,{xs:24,sm:24,md:20,lg:20,xl:20},{default:(0,n.w5)((()=>[(0,n._)("div",c,[u,(0,n._)("div",r,[h,m,"edit"!=Y.action?((0,n.wg)(),(0,n.iD)("div",g,[(0,n.Wm)(N,{placeholder:"Email",modelValue:Y.email,"onUpdate:modelValue":t[0]||(t[0]=e=>Y.email=e)},null,8,["modelValue"])])):(0,n.kq)("",!0),(0,n._)("div",w,[(0,n.Wm)(B,{accordion:""},{default:(0,n.w5)((()=>[1==Z.identity?((0,n.wg)(),(0,n.j4)(P,{key:0,name:"1"},{title:(0,n.w5)((()=>[_])),default:(0,n.w5)((()=>[y,(0,n._)("div",v,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Y.educatorMenuData,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"qx-checked-item",key:t,onClick:t=>Z.menuItemSelected(e)},[(0,n._)("div",k,(0,s.zw)(e.menu_name_en),1),(0,n._)("div",{class:(0,s.C_)(["qx-checked-square",-1==Y.sMenuItemData.indexOf(e.id)?"":"qx-checked-square-active"])},null,2)],8,M)))),128))])])),_:1})):(0,n.kq)("",!0),2==Z.identity?((0,n.wg)(),(0,n.j4)(P,{key:1,title:"Edu Business Account (Recruiter)",name:"2"},{default:(0,n.w5)((()=>[f,(0,n._)("div",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Y.recruiterMenuData,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"qx-checked-item",key:t,onClick:t=>Z.menuItemSelected(e)},[(0,n._)("div",D,(0,s.zw)(e.menu_name_en),1),(0,n._)("div",{class:(0,s.C_)(["qx-checked-square",-1==Y.sMenuItemData.indexOf(e.id)?"":"qx-checked-square-active"])},null,2)],8,q)))),128))])])),_:1})):(0,n.kq)("",!0),3==Z.identity?((0,n.wg)(),(0,n.j4)(P,{key:2,title:"Edu Business Account (School)",name:"3"},{default:(0,n.w5)((()=>[S,(0,n._)("div",x,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Y.schoolMenuData,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"qx-checked-item",key:t,onClick:t=>Z.menuItemSelected(e)},[(0,n._)("div",I,(0,s.zw)(e.menu_name_en),1),(0,n._)("div",{class:(0,s.C_)(["qx-checked-square",-1==Y.sMenuItemData.indexOf(e.id)?"":"qx-checked-square-active"])},null,2)],8,C)))),128))])])),_:1})):(0,n.kq)("",!0),4==Z.identity?((0,n.wg)(),(0,n.j4)(P,{key:3,title:"Edu Business Account (Other)",name:"4"},{default:(0,n.w5)((()=>[$,(0,n._)("div",b,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Y.otherMenuData,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"qx-checked-item",key:t,onClick:t=>Z.menuItemSelected(e)},[(0,n._)("div",U,(0,s.zw)(e.menu_name_en),1),(0,n._)("div",{class:(0,s.C_)(["qx-checked-square",-1==Y.sMenuItemData.indexOf(e.id)?"":"qx-checked-square-active"])},null,2)],8,A)))),128))])])),_:1})):(0,n.kq)("",!0),5==Z.identity?((0,n.wg)(),(0,n.j4)(P,{key:4,title:"Vendor Account",name:"5"},{default:(0,n.w5)((()=>[L,(0,n._)("div",W,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Y.vendorMenuData,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"qx-checked-item",key:t,onClick:t=>Z.menuItemSelected(e)},[(0,n._)("div",K,(0,s.zw)(e.menu_name_en),1),(0,n._)("div",{class:(0,s.C_)(["qx-checked-square",-1==Y.sMenuItemData.indexOf(e.id)?"":"qx-checked-square-active"])},null,2)],8,j)))),128))])])),_:1})):(0,n.kq)("",!0)])),_:1})]),(0,n._)("div",z,[(0,n.Wm)(R,{type:"primary",loading:Y.addLoading,onClick:t[1]||(t[1]=e=>Z.addMenu())},{default:(0,n.w5)((()=>["edit"==Y.action?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[H],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[E],64))])),_:1},8,["loading"]),"edit"==Y.action?((0,n.wg)(),(0,n.j4)(F,{key:0,title:"Are you sure to delete this?",onConfirm:t[2]||(t[2]=e=>Z.deleteUserMenu())},{reference:(0,n.w5)((()=>[(0,n.Wm)(R,{type:"danger",loading:Y.deleteLoading},{default:(0,n.w5)((()=>[O])),_:1},8,["loading"])])),_:1})):(0,n.kq)("",!0)])])])])),_:1})])),_:1})])])}var Z=a(1836),T={name:"add",components:{meSideMenu:i.Z},setup(){},data(){return{educatorMenuData:[],recruiterMenuData:[],schoolMenuData:[],otherMenuData:[],vendorMenuData:[],sMenuItemData:[],email:"",addLoading:!1,action:"",deleteLoading:!1}},computed:{identity:{get(){return this.$store.state.identity}}},async mounted(){await this.getAllMenuList(),this.action=this.$route.query.action;let e=this.$route.query.action,t=this.$route.query.uid,a=this.$route.query.cId;"edit"==e&&await this.getUserAdminMenuList(t,this.identity,a)},methods:{deleteUserMenu(){let e=this;this.deleteLoading=!0;let t=this.$route.query.uid,a=this.$route.query.cId,i={user_id:t,identity:e.identity,company_id:a};(0,Z.iu)(i).then((t=>{console.log(t),200==t.code&&(this.deleteLoading=!1,this.$router.push({path:"/overview",query:{identity:e.identity}}))})).catch((e=>{console.log(e)}))},async getUserAdminMenuList(e,t,a){let i={user_id:e,identity:t,company_id:a};await(0,Z.uc)(i).then((e=>{if(console.log(e),200==e.code){let t=e.message;t.forEach((e=>{this.sMenuItemData.push(Number(e.menu_id))}))}})).catch((e=>{console.log(e)}))},addMenu(){let e=this.identity,t=this.email,a=localStorage.getItem("company_id"),i=this.$route.query.action;if("edit"!=i&&""==this.email)return void this.$message.warning("Please enter email");let n=this.sMenuItemData;if(n.length<=0)return void this.$message.warning("Choose what the added user will have access to");this.addLoading=!0;let s={};if("edit"==i){let t=this.$route.query.uid,a=this.$route.query.cId;(0,Z.Uz)({user_id:Number(t),company_id:Number(a)}).then((i=>{console.log(i),200==i.code&&(s={user_id:t,identity:e,company_id:a,menu_id:n.join(",")},(0,Z.P0)(s).then((t=>{console.log(t),200==t.code&&(this.addLoading=!1,this.$message.success("Success "),this.$router.push({path:"/overview",query:{identity:e}}))})).catch((e=>{console.log(e),this.addLoading=!1})))})).catch((e=>{console.log(e)}))}else s={email:t,identity:e,company_id:a,menu_id:n.join(",")},(0,Z.P0)(s).then((t=>{console.log(t),200==t.code&&(this.addLoading=!1,this.$message.success("Success "),this.$router.push({path:"/overview",query:{identity:e}}))})).catch((e=>{console.log(e),this.addLoading=!1}))},menuItemSelected(e){let t=this.sMenuItemData,a=t.indexOf(e.id);-1===a?this.sMenuItemData.push(e.id):this.sMenuItemData.splice(a,1),console.log(this.sMenuItemData)},getUserMenuList(){let e=this,t={user_id:localStorage.getItem("uid"),identity:e.identity,company_id:localStorage.getItem("company_id"),create_user_id:localStorage.getItem("uid"),page:1,limit:1e3};(0,Z.$Z)(t).then((t=>{if(200===t.code){let a=t.message.pc;1==e.identity&&(this.educatorMenuData=a),2==e.identity&&(this.recruiterMenuData=a),3==e.identity&&(this.schoolMenuData=a),4==e.identity&&(this.otherMenuData=a),5==e.identity&&(this.vendorMenuData=a)}})).catch((e=>{console.log(e)}))},async getAllMenuList(){let e={};await(0,Z.Lg)(e).then((e=>{if(console.log(e),200==e.code){let t=e.message,a=t.educator,i=t.recruiting,n=t.school,s=t.other,o=t.vendor;this.educatorMenuData=a,this.recruiterMenuData=i,this.schoolMenuData=n,this.otherMenuData=s,this.vendorMenuData=o}})).catch((e=>{console.log(e)}))}}},V=a(8118);const N=(0,V.Z)(T,[["render",Y],["__scopeId","data-v-77d4f9fd"]]);var P=N}}]);
//# sourceMappingURL=1418.a80463f1.js.map