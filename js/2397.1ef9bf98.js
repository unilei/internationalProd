"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[2397],{7876:function(e,t,o){o.d(t,{Z:function(){return S}});var s=o(6252),i=o(6612);const a={class:"menu-btn-container"},n=(0,s.Uk)("Menu"),r={key:0,class:"profile-l-container"},l={class:"l-container"},c=["Key"];function u(e,t,o,u,h,m){const d=(0,s.up)("el-button"),g=(0,s.up)("el-image"),p=(0,s.up)("router-link"),b=(0,s.up)("el-scrollbar");return(0,s.wg)(),(0,s.j4)(b,{class:"menu-xll-bg-container"},{default:(0,s.w5)((()=>[(0,s._)("div",a,[(0,s.Wm)(d,{class:"menu-btn",type:"primary",onClick:t[0]||(t[0]=e=>m.showSideMenu())},{default:(0,s.w5)((()=>[n])),_:1})]),h.showSideMenuStatus?((0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",l,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.menuData,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"l-item l-item-margin",Key:t},[(0,s.Wm)(p,{class:(0,i.C_)(u.selectedKeys===e.link?"router-link-exact-active":""),to:{path:e.link},exact:""},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"xll-icon-image",src:e.icon},null,8,["src"]),(0,s._)("span",null,(0,i.zw)(e.menu_name_en),1)])),_:2},1032,["class","to"])],8,c)))),256))])])):(0,s.kq)("",!0)])),_:1})}var h=o(1474),m=o(1836),d=o(5323),g=o(3907),p=o(8339),b=o(2931),f={name:"meSideMenu",setup(){const e=(0,g.oR)(),t=t=>e.commit("nowChatUserInfo",t),o=()=>e.commit("showChatStatus",!0),s=(0,p.yj)(),i=s.meta.activeMenu,a=(0,b.iH)(i||s.path);return{setNowChatUserInfo:t,setShowChatStatus:o,selectedKeys:a}},data(){return{defaultAvatar:d,accountInfo:{},accountPhotoValue:"",versionTime:(0,h.O1)(),activeMsg:!1,showSideMenuStatus:!0}},watch:{menuData(e){console.log(e)}},computed:{username:{get(){return this.$store.state.username}},userAvatar:{get(){return this.$store.state.userAvatar}},identity:{get(){return this.$store.state.identity}},menuData:{get(){return this.$store.state.menuData}}},mounted(){let e=document.body.clientWidth;Math.floor(e)<768&&(this.showSideMenuStatus=!1),Math.floor(e)>=768&&Math.floor(e)<992&&(this.showSideMenuStatus=!0),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.showSideMenuStatus=!0),Math.floor(e)>=1200&&(this.showSideMenuStatus=!0),window.onresize=()=>{let e=document.body.clientWidth;Math.floor(e)<768&&(this.showSideMenuStatus=!1),Math.floor(e)>=768&&Math.floor(e)<992&&(this.showSideMenuStatus=!0),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.showSideMenuStatus=!0),Math.floor(e)>=1200&&(this.showSideMenuStatus=!0)}},methods:{showSideMenu(){this.showSideMenuStatus=!this.showSideMenuStatus},getUserMenuList(){let e=this,t={user_id:localStorage.getItem("uid"),identity:e.identity,company_id:localStorage.getItem("company_id"),create_user_id:localStorage.getItem("c_uid"),page:1,limit:1e3};(0,m.$Z)(t).then((t=>{if(200===t.code){let o=t.message.pc,s=o.filter((t=>t.identity==e.identity));this.$store.commit("menuData",s)}})).catch((e=>{console.log(e)}))},turnMyMessages(){this.setShowChatStatus()}}},y=o(8118);const _=(0,y.Z)(f,[["render",u],["__scopeId","data-v-73c372ce"]]);var S=_},2397:function(e,t,o){o.r(t),o.d(t,{default:function(){return y}});var s=o(8044),i=o(6758),a=o(7876),n=o(6252);const r={class:"business-profile-container"},l={class:"business-profile-l"},c={class:"business-profile-r"},u={class:"business-jobs"},h={class:"business-profile"};function m(e,t,o,m,d,g){const p=a.Z,b=i.Z,f=(0,n.up)("el-col"),y=s.Z,_=(0,n.up)("el-row");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",l,[(0,n.Wm)(p)]),(0,n._)("div",c,[(0,n.Wm)(_,{gutter:0,align:"top",justify:"space-between"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{xs:22,sm:22,md:8,lg:9,xl:8},{default:(0,n.w5)((()=>[(0,n._)("div",u,[(0,n.Wm)(b,{"job-list-data":d.otherJobsData,"company-info":d.companyInfo,jobLimit:d.otherJobLimit,jobTotalNum:d.otherJobTotalNum,jobPage:d.otherJobPage,"from-business-profile":!0,onJobDetailEvent:g.turnJobDetail,onBackToResults:g.backToResults,onJobPageChange:g.otherJobPageChange,onAddFavorite:g.addFavorite,onCancelFavorite:g.cancelFavorite},null,8,["job-list-data","company-info","jobLimit","jobTotalNum","jobPage","onJobDetailEvent","onBackToResults","onJobPageChange","onAddFavorite","onCancelFavorite"])])])),_:1}),(0,n.Wm)(f,{xs:22,sm:22,md:16,lg:15,xl:16},{default:(0,n.w5)((()=>[(0,n._)("div",h,[(0,n.Wm)(y,{canEdit:!0,info:d.companyInfo,identity:g.identity},null,8,["info","identity"])])])),_:1})])),_:1})])])}var d=o(1836),g=o(4276),p={name:"profile",components:{meSideMenu:a.Z,businessProfile:s.Z,jobsListComponent:i.Z},computed:{identity:{get(){return this.$store.state.identity}}},data(){return{profilePercentage:0,userContact:{},companyContact:{},companyInfo:{},otherJobsData:[],otherJobTotalNum:0,otherJobLimit:1e4,otherJobPage:1}},mounted(){let e=this.$route.query.str;e&&console.log((0,g.Jx)(e)),this.getUserInfo(),this.updateBusinessProfile(),this.getCompanyJobList(1,1e4)},methods:{updateBusinessProfile(){let e={token:localStorage.getItem("token")};2==this.identity&&(0,d.H7)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)})),3==this.identity&&(0,d.kg)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)})),4==this.identity&&(0,d.yx)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},getUserInfo(){let e=localStorage.getItem("identity"),t={identity:e};(0,d.Lk)(t).then((t=>{if(console.log(t),200==t.code){let o=t.message.user_contact,s=t.message.user_contact.company;if(2==e&&(this.profilePercentage=o.is_recruiting),3==e&&(this.profilePercentage=o.is_school),4==e&&(this.profilePercentage=o.is_other),s&&(this.companyInfo=s,s.benefits)){let e=s.benefits;e.forEach(((t,o)=>{e[o].id=t.object_id,e[o].pid=t.object_pid})),this.selectBenefitsList=e,this.benefitsList=s.benefits}o&&(this.userContact=o);let i=s.images;this.accountImageFileList=[],i&&i.forEach((e=>{let t={name:"",url:e.url};this.accountImageFileList.push(t)}))}})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},getCompanyJobList(e,t){let o=localStorage.getItem("uid"),s={user_id:o,is_open:1,status:1,page:e,limit:t};(0,d.kM)(s).then((e=>{console.log(e),200==e.code&&(this.otherJobsData=e.message.data,this.otherJobTotalNum=e.message.total)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},turnJobDetail(e,t,o){this.showCompanyStatus=!1,o?this.$router.push({path:"/jobs",query:{id:e,page:t,from:1}}):this.$router.push({path:"/jobs",query:{id:e,page:t}})},otherJobPageChange(e){console.log(e),this.otherJobPage=e,this.getCompanyJobList(this.companyInfo.user_id,e,this.otherJobLimit)},backToResults(){this.showCompanyStatus=!1,this.isOther=!1,this.$router.push({path:"/jobs",query:{id:this.selectedJobId,page:this.jobPage}})},addFavorite(e,t,o,s,i){let a={token:localStorage.getItem("token"),type:t,type_id:e,type_title:o,type_url:s};(0,d.q8)(a).then((e=>{console.log(e),200==e.code&&(this.$message.success("Success"),this.jobListData[i]["is_favorite"]=1)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},cancelFavorite(e,t,o){let s={token:localStorage.getItem("token"),type:e,type_id:t};(0,d.Bv)(s).then((e=>{console.log(e),200==e.code&&(this.jobListData[o]["is_favorite"]=0)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},async submitEduBusinessCompanyForm(){let e=localStorage.getItem("uid"),t=[{zf_referrer_name:""},{zf_redirect_url:""},{zc_gad:""},{SingleLine:this.companyInfo.company_name},{Dropdown2:""},{Dropdown:"Education Business"},{Website:""},{SingleLine1:""},{Number2:""},{SingleLine5:e},{PhoneNumber_countrycode:""},{Email:""},{Number:""},{Number1:""},{Dropdown1:""},{Address_AddressLine1:""},{Address_City:""},{Address_Region:""},{Address_Country:""},{SingleLine4:""},{MultiLine:""},{SingleLine3:""},{Number3:""},{Number4:""},{MultipleChoice:""},{MultiLine1:""},{MultiLine2:""},{Website1:""},{Website2:this.companyInfo.logo},{Website3:this.companyInfo.background_image}],o={zoho_data:t,zoho_url:"https://forms.zohopublic.com/edupassport/form/EduBusinessCompanyForm/formperma/2gsVgXjDNmE5niOKVzRmwT2tlYNWWCTD2kCDHv_CAV8/htmlRecords/submit"};await(0,d.Qi)(o).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))}}},b=o(8118);const f=(0,b.Z)(p,[["render",m],["__scopeId","data-v-d19d1a90"]]);var y=f}}]);
//# sourceMappingURL=2397.1ef9bf98.js.map