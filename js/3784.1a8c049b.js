"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[3784],{3784:function(t,e,s){s.r(e),s.d(e,{default:function(){return K}});var a=s(6252),i=s(6612),n=s(8061);const l=t=>((0,a.dD)("data-v-3e0b0d02"),t=t(),(0,a.Cn)(),t),o={class:"bg"},r={class:"result-container"},h={class:"result-label"},d=l((()=>(0,a._)("div",{class:"result-tips"},null,-1))),c={class:"result-content-container"},g={class:"content-l"},u={key:0,class:"content-l-content"},w={key:0},m={class:"content-item-title"},_=l((()=>(0,a._)("span",null,"Job",-1))),v=["innerHTML"],p={key:1},b={class:"content-item-title"},k=l((()=>(0,a._)("span",null,"Deal",-1))),S={class:"content-item-desc"},y={key:1,class:"empty-result-container"},D={class:"pagination-container"},P=(0,a.Uk)("Prev "),f=(0,a.Uk)("Next "),L={class:"content-r"},j={class:"content-r-container"},x=l((()=>(0,a._)("div",{class:"content-r-label"},"Search Site",-1))),W={class:"content-r-input"},q=l((()=>(0,a._)("div",{class:"content-r-tips"}," Search through thousands of jobs, Events and Deals. For better results,search for keywords that are as unique your desired results as possible. ",-1))),C={class:"content-r-tags"},N=l((()=>(0,a._)("div",{class:"content-r-tags-label"},"Tags",-1))),V={class:"content-r-tags-content"},E=["onClick"];function T(t,e,s,l,T,z){const H=(0,a.up)("el-col"),U=(0,a.up)("el-row"),$=(0,a.up)("router-link"),K=(0,a.up)("el-button"),Y=(0,a.up)("el-input"),F=(0,a.Q2)("loading");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(U,{align:"top",justify:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(H,{class:"result-banner",xs:24,sm:24,md:24,lg:24,xl:24})])),_:1}),(0,a.Wm)(U,{align:"top",justify:"center"},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.Wm)(H,{xs:24,sm:24,md:24,lg:24,xl:24},{default:(0,a.w5)((()=>[(0,a._)("div",h,' Showing Search Results for "'+(0,i.zw)(T.keyword)+'" ',1),d,(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",g,[T.jobsData.length>0||T.dealsData.length>0?((0,a.wg)(),(0,a.iD)("div",u,[T.jobsData.length>0?((0,a.wg)(),(0,a.iD)("div",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(T.jobsData,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:e},[(0,a._)("div",m,[(0,a.Wm)($,{target:"_blank",to:{path:"/jobs/detail",query:{id:t.id}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.job_title),1)])),_:2},1032,["to"]),_]),(0,a._)("div",{class:"content-item-desc",innerHTML:t.desc},null,8,v)])))),128))])):(0,a.kq)("",!0),T.dealsData.length>0?((0,a.wg)(),(0,a.iD)("div",p,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(T.dealsData,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:e},[(0,a._)("div",b,[(0,a.Wm)($,{target:"_blank",to:{path:"/deals/detail",query:{id:t.id}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.title),1)])),_:2},1032,["to"]),k]),(0,a._)("div",S,(0,i.zw)(t.desc),1)])))),128))])):(0,a.kq)("",!0)])):((0,a.wg)(),(0,a.iD)("div",y," No search results ")),(0,a.wy)((0,a._)("div",D,[(0,a.Wm)(K,{class:"prev-container",type:"primary",disabled:!T.showPrevPaginationStatus,round:"",onClick:e[0]||(e[0]=t=>z.showPrevPage())},{default:(0,a.w5)((()=>[P])),_:1},8,["disabled"]),(0,a.Wm)(K,{class:"next-container",type:"primary",disabled:!T.showNextPaginationStatus,round:"",onClick:e[1]||(e[1]=t=>z.showNextPage())},{default:(0,a.w5)((()=>[f])),_:1},8,["disabled"])],512),[[n.F8,T.showPaginationStatus]])]),(0,a._)("div",L,[(0,a._)("div",j,[x,(0,a._)("div",W,[(0,a.Wm)(Y,{modelValue:T.searchSiteValue,"onUpdate:modelValue":e[2]||(e[2]=t=>T.searchSiteValue=t),placeholder:"Type Search here",onChange:e[3]||(e[3]=t=>z.siteSearch())},null,8,["modelValue"])]),q,(0,a._)("div",C,[N,(0,a._)("div",V,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(T.tagsData,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-r-tags-item",key:e,onClick:e=>z.search(t.name_en)},(0,i.zw)(t.name_en),9,E)))),128))])])])])])),[[F,T.searchLoadingStatus]])])),_:1})])])),_:1})])}var z=s(1836),H={name:"result",data(){return{searchLoadingStatus:!1,searchSiteValue:"",tagsList:[],tagsData:[],keyword:"",page:1,limit:10,totalNum:0,businessData:[],vendorData:[],dealsData:[],eventsData:[],jobsData:[],showPaginationStatus:!1,showNextPaginationStatus:!0,showPrevPaginationStatus:!0}},mounted(){let t=this.$route.query.keyword;t&&""!=t?this.keyword=t:this.searchLoadingStatus=!1,this.getTagsList()},methods:{getTagsList(){let t={page:1,limit:1e4};(0,z.dD)(t).then((t=>{console.log(t),200==t.code&&(this.tagsData=t.message.data)})).catch((t=>{console.log(t),this.$message.error(t.msg)}))},search(t){this.searchSiteValue="",this.searchLoadingStatus=!0,this.keyword=t,this.$router.push({path:"/search/result",query:{keyword:t}}),this.getEsSearch(1,this.limit,t)},siteSearch(){this.searchLoadingStatus=!0,this.keyword=this.searchSiteValue,this.$router.push({path:"/search/result",query:{keyword:this.keyword}}),this.getEsSearch(1,this.limit,this.keyword)},getEsSearch(t,e,s){let a={page:t,limit:e,kw:s};(0,z.ii)(a).then((e=>{if(console.log(e),200==e.code){let s=e.message.business_list.data,a=e.message.vendor_list.data,i=e.message.deal_list.data,n=e.message.jobs_list.data,l=e.message.event_list.data;e.message.business_list&&(this.businessData=s,this.businessLastPage=e.message.business_list.last_page),e.message.vendor_list&&(this.vendorData=a,this.vendorLastPage=e.message.vendor_list.last_page),e.message.deal_list&&(this.dealsData=i,this.dealsLastPage=e.message.deal_list.last_page),e.message.event_list&&(this.eventsData=l,this.eventsLastPage=e.message.event_list.last_page),e.message.jobs_list&&(this.jobsData=n,this.jobsLastPage=e.message.jobs_list.last_page);let o=n.length,r=i.length;1==t?(this.showPaginationStatus=o+r>=10,this.showPrevPaginationStatus=!1):(this.showPaginationStatus=!0,this.showPrevPaginationStatus=!0,this.showNextPaginationStatus=o+r>0),this.searchLoadingStatus=!1}})).catch((t=>{console.log(t),this.$message.error(t.msg)}))},showPrevPage(){this.searchLoadingStatus=!0,this.page--,this.page<=0&&(this.page=1),this.getEsSearch(this.page,this.limit,this.keyword)},showNextPage(){this.searchLoadingStatus=!0,this.page++,this.getEsSearch(this.page,this.limit,this.keyword)}}},U=s(8118);const $=(0,U.Z)(H,[["render",T],["__scopeId","data-v-3e0b0d02"]]);var K=$}}]);
//# sourceMappingURL=3784.1a8c049b.js.map