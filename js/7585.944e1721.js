"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[7585],{8233:function(e,t,s){s.d(t,{Z:function(){return P}});var o=s(6252),a=s(6612);const i=e=>((0,o.dD)("data-v-3afeeb6a"),e=e(),(0,o.Cn)(),e),l={class:"container"},n={class:"deals-from-t"},c={key:0,class:"deals-from-back"},r=(0,o.Uk)(" BACK TO SEARCH RESULTS "),d={key:1,class:"deals-from-back"},u=(0,o.Uk)(" EXIT PREVIEW "),m={class:"deals-from-label"},h={class:"deals-from-b"},g={class:"deals-item-bg"},f=["onClick"],_=i((()=>(0,o._)("i",{class:"iconfont el-icon-alixll-heart-filled xll-heart-icon"},null,-1))),p=[_],y=["onClick"],w=i((()=>(0,o._)("i",{class:"iconfont el-icon-alixll-heart xll-heart-icon"},null,-1))),b=[w],k={class:"deals-item-c"},v={class:"deals-item-c-l"},S={class:"deals-item-c-r"},D={class:"deals-item-c-r-1"},M=["onClick"],C={class:"deals-item-b"},I={class:"deals-item-b-l"},L=(0,o.Uk)(" unknown "),W={class:"deals-item-b-r"},$=(0,o.Uk)(" DETAILS ");function x(e,t,s,i,_,w){const x=(0,o.up)("ArrowLeft"),E=(0,o.up)("el-icon"),z=(0,o.up)("el-button"),A=(0,o.up)("el-image"),P=(0,o.up)("el-avatar"),R=(0,o.up)("el-scrollbar");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(R,{class:"deals-from-bg-container"},{default:(0,o.w5)((()=>[(0,o._)("div",n,[s.fromVendorProfile?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",c,[(0,o.Wm)(z,{class:"deals-from-back-btn",onClick:t[0]||(t[0]=e=>w.backToSearchResults()),link:""},{default:(0,o.w5)((()=>[(0,o.Wm)(E,null,{default:(0,o.w5)((()=>[(0,o.Wm)(x)])),_:1}),r])),_:1})])),s.fromVendorProfile?((0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(z,{class:"deals-from-back-btn",onClick:t[1]||(t[1]=e=>w.backToSearchResults()),link:""},{default:(0,o.w5)((()=>[(0,o.Wm)(E,null,{default:(0,o.w5)((()=>[(0,o.Wm)(x)])),_:1}),u])),_:1})])):(0,o.kq)("",!0),(0,o._)("div",m," Deals from "+(0,a.zw)(s.info.company_name),1)]),(0,o._)("div",h,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.listData,((t,s)=>((0,o.wg)(),(0,o.iD)("div",{class:"deals-from-item",key:s},[(0,o._)("div",g,[(0,o.Wm)(A,{class:"deals-item-background-img",src:t.company_info.background_image?t.company_info.background_image:"",fit:"cover"},null,8,["src"]),t.is_favorite&&1==t.is_favorite?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"deals-item-favorite",onClick:o=>e.cancelFavorite(2,t.id,s)},p,8,f)):((0,o.wg)(),(0,o.iD)("div",{key:1,class:"deals-item-favorite",onClick:o=>e.addFavorite(t.id,2,t.title,t.company_logo,s)},b,8,y))]),(0,o._)("div",k,[(0,o._)("div",v,[(0,o.Wm)(P,{class:"deals-logo",src:t.company_logo},null,8,["src"])]),(0,o._)("div",S,[(0,o._)("div",D,(0,a.zw)(t.company_name),1),(0,o._)("div",{class:"deals-item-c-r-2",onClick:e=>w.showDealDetailDialog(t)},(0,a.zw)(t.title),9,M)])]),(0,o._)("div",C,[(0,o._)("div",I,[t.company_info.category_name_en&&"0"!=t.company_info.category_name_en?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)((0,a.zw)(t.company_info.category_name_en),1)],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[L],64))]),(0,o._)("div",W,[(0,o.Wm)(z,{link:"",onClick:e=>w.showDealDetailDialog(t)},{default:(0,o.w5)((()=>[$])),_:2},1032,["onClick"])])])])))),128))])])),_:1})])}var E={name:"dealByListComponent",props:["listData","info","fromVendorProfile"],methods:{backToSearchResults(){this.$emit("back")},showDealDetailDialog(e){this.$emit("detail",e)}}},z=s(8118);const A=(0,z.Z)(E,[["render",x],["__scopeId","data-v-3afeeb6a"]]);var P=A},7876:function(e,t,s){s.d(t,{Z:function(){return b}});var o=s(6252),a=s(6612);const i={class:"menu-btn-container"},l=(0,o.Uk)("Menu"),n={key:0,class:"profile-l-container"},c={class:"l-container"},r=["Key"];function d(e,t,s,d,u,m){const h=(0,o.up)("el-button"),g=(0,o.up)("el-image"),f=(0,o.up)("router-link"),_=(0,o.up)("el-scrollbar");return(0,o.wg)(),(0,o.j4)(_,{class:"menu-xll-bg-container"},{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o.Wm)(h,{class:"menu-btn",type:"primary",onClick:t[0]||(t[0]=e=>m.showSideMenu())},{default:(0,o.w5)((()=>[l])),_:1})]),u.showSideMenuStatus?((0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(m.menuData,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"l-item l-item-margin",Key:t},[(0,o.Wm)(f,{class:(0,a.C_)(d.selectedKeys===e.link?"router-link-exact-active":""),to:{path:e.link},exact:""},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{class:"xll-icon-image",src:e.icon},null,8,["src"]),(0,o._)("span",null,(0,a.zw)(e.menu_name_en),1)])),_:2},1032,["class","to"])],8,r)))),256))])])):(0,o.kq)("",!0)])),_:1})}var u=s(1474),m=s(1836),h=s(5323),g=s(3907),f=s(8339),_=s(2931),p={name:"meSideMenu",setup(){const e=(0,g.oR)(),t=t=>e.commit("nowChatUserInfo",t),s=()=>e.commit("showChatStatus",!0),o=(0,f.yj)(),a=o.meta.activeMenu,i=(0,_.iH)(a||o.path);return{setNowChatUserInfo:t,setShowChatStatus:s,selectedKeys:i}},data(){return{defaultAvatar:h,accountInfo:{},accountPhotoValue:"",versionTime:(0,u.O1)(),activeMsg:!1,showSideMenuStatus:!0}},watch:{menuData(e){console.log(e)}},computed:{username:{get(){return this.$store.state.username}},userAvatar:{get(){return this.$store.state.userAvatar}},identity:{get(){return this.$store.state.identity}},menuData:{get(){return this.$store.state.menuData}}},mounted(){let e=document.body.clientWidth;Math.floor(e)<768&&(this.showSideMenuStatus=!1),Math.floor(e)>=768&&Math.floor(e)<992&&(this.showSideMenuStatus=!0),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.showSideMenuStatus=!0),Math.floor(e)>=1200&&(this.showSideMenuStatus=!0),window.onresize=()=>{let e=document.body.clientWidth;Math.floor(e)<768&&(this.showSideMenuStatus=!1),Math.floor(e)>=768&&Math.floor(e)<992&&(this.showSideMenuStatus=!0),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.showSideMenuStatus=!0),Math.floor(e)>=1200&&(this.showSideMenuStatus=!0)}},methods:{showSideMenu(){this.showSideMenuStatus=!this.showSideMenuStatus},getUserMenuList(){let e=this,t={user_id:localStorage.getItem("uid"),identity:e.identity,company_id:localStorage.getItem("company_id"),create_user_id:localStorage.getItem("c_uid"),page:1,limit:1e3};(0,m.$Z)(t).then((t=>{if(200===t.code){let s=t.message.pc,o=s.filter((t=>t.identity==e.identity));this.$store.commit("menuData",o)}})).catch((e=>{console.log(e)}))},turnMyMessages(){this.setShowChatStatus()}}},y=s(8118);const w=(0,y.Z)(p,[["render",d],["__scopeId","data-v-73c372ce"]]);var b=w},7585:function(e,t,s){s.r(t),s.d(t,{default:function(){return y}});var o=s(8044),a=s(8233),i=s(7876),l=s(6252);const n={class:"business-profile-container"},c={class:"business-profile-l"},r={class:"business-profile-r"},d={class:"business-deals"},u={class:"business-profile"};function m(e,t,s,m,h,g){const f=i.Z,_=a.Z,p=(0,l.up)("el-col"),y=o.Z,w=(0,l.up)("el-row");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",c,[(0,l.Wm)(f)]),(0,l._)("div",r,[(0,l.Wm)(w,{gutter:0,align:"top",justify:"space-between"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{xs:22,sm:22,md:8,lg:9,xl:8},{default:(0,l.w5)((()=>[(0,l._)("div",d,[(0,l.Wm)(_,{listData:h.dealsListData,"from-vendor-profile":!0,onBack:g.backToSearchResults,onDetail:g.showDealDetailDialog,info:h.companyInfo},null,8,["listData","onBack","onDetail","info"])])])),_:1}),(0,l.Wm)(p,{xs:22,sm:22,md:16,lg:15,xl:16},{default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l.Wm)(y,{canEdit:!0,info:h.companyInfo,identity:g.identity},null,8,["info","identity"])])])),_:1})])),_:1})])])}var h=s(1836),g=s(4276),f={name:"profile",components:{meSideMenu:i.Z,businessProfile:o.Z,dealByListComponent:a.Z},computed:{identity:{get(){return this.$store.state.identity}}},data(){return{profilePercentage:0,userContact:{},companyContact:{},companyInfo:{},dealsListData:[]}},mounted(){let e=this.$route.query.str;e&&console.log((0,g.Jx)(e)),this.getUserInfo(),this.updateBusinessProfile(),this.getDealsList(1,1e3)},methods:{getDealsList(e,t){let s=this.filterResultData,o={page:e,limit:t},a=Object.assign(o,s);(0,h.Jq)(a).then((e=>{console.log(e),200==e.code&&(this.dealsListData=e.message.data,this.dealTotalNum=e.message.total,this.showLoadingStatus=!1)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},backToSearchResults(){this.$router.push("/account/home")},showDealDetailDialog(){},updateBusinessProfile(){let e={token:localStorage.getItem("token")};2==this.identity&&(0,h.H7)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)})),3==this.identity&&(0,h.kg)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)})),4==this.identity&&(0,h.yx)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},getUserInfo(){let e=localStorage.getItem("identity"),t={identity:e};(0,h.Lk)(t).then((t=>{if(console.log(t),200==t.code){let s=t.message.user_contact,o=t.message.user_contact.company;if(2==e&&(this.profilePercentage=s.is_recruiting),3==e&&(this.profilePercentage=s.is_school),4==e&&(this.profilePercentage=s.is_other),o&&(this.companyInfo=o,o.benefits)){let e=o.benefits;e.forEach(((t,s)=>{e[s].id=t.object_id,e[s].pid=t.object_pid})),this.selectBenefitsList=e,this.benefitsList=o.benefits}s&&(this.userContact=s);let a=o.images;this.accountImageFileList=[],a&&a.forEach((e=>{let t={name:"",url:e.url};this.accountImageFileList.push(t)}))}})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},addFavorite(e,t,s,o,a){let i={token:localStorage.getItem("token"),type:t,type_id:e,type_title:s,type_url:o};(0,h.q8)(i).then((e=>{console.log(e),200==e.code&&(this.$message.success("Success"),this.jobListData[a]["is_favorite"]=1)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},cancelFavorite(e,t,s){let o={token:localStorage.getItem("token"),type:e,type_id:t};(0,h.Bv)(o).then((e=>{console.log(e),200==e.code&&(this.jobListData[s]["is_favorite"]=0)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},async submitEduBusinessCompanyForm(){let e=localStorage.getItem("uid"),t=[{zf_referrer_name:""},{zf_redirect_url:""},{zc_gad:""},{SingleLine:this.companyInfo.company_name},{Dropdown2:""},{Dropdown:"Education Business"},{Website:""},{SingleLine1:""},{Number2:""},{SingleLine5:e},{PhoneNumber_countrycode:""},{Email:""},{Number:""},{Number1:""},{Dropdown1:""},{Address_AddressLine1:""},{Address_City:""},{Address_Region:""},{Address_Country:""},{SingleLine4:""},{MultiLine:""},{SingleLine3:""},{Number3:""},{Number4:""},{MultipleChoice:""},{MultiLine1:""},{MultiLine2:""},{Website1:""},{Website2:this.companyInfo.logo},{Website3:this.companyInfo.background_image}],s={zoho_data:t,zoho_url:"https://forms.zohopublic.com/edupassport/form/EduBusinessCompanyForm/formperma/2gsVgXjDNmE5niOKVzRmwT2tlYNWWCTD2kCDHv_CAV8/htmlRecords/submit"};await(0,h.Qi)(s).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))}}},_=s(8118);const p=(0,_.Z)(f,[["render",m],["__scopeId","data-v-0dedc2dc"]]);var y=p}}]);
//# sourceMappingURL=7585.944e1721.js.map