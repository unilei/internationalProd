"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[9774],{7876:function(e,t,a){a.d(t,{Z:function(){return y}});var s=a(6252),i=a(6612);const l={class:"menu-btn-container"},o=(0,s.Uk)("Menu"),n={key:0,class:"profile-l-container"},c={class:"l-container"},r=["Key"];function d(e,t,a,d,u,m){const g=(0,s.up)("el-button"),h=(0,s.up)("el-image"),p=(0,s.up)("router-link"),_=(0,s.up)("el-scrollbar");return(0,s.wg)(),(0,s.j4)(_,{class:"menu-xll-bg-container"},{default:(0,s.w5)((()=>[(0,s._)("div",l,[(0,s.Wm)(g,{class:"menu-btn",type:"primary",onClick:t[0]||(t[0]=e=>m.showSideMenu())},{default:(0,s.w5)((()=>[o])),_:1})]),u.showSideMenuStatus?((0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",c,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.menuData,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"l-item l-item-margin",Key:t},[(0,s.Wm)(p,{class:(0,i.C_)(d.selectedKeys===e.link?"router-link-exact-active":""),to:{path:e.link},exact:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"xll-icon-image",src:e.icon},null,8,["src"]),(0,s._)("span",null,(0,i.zw)(e.menu_name_en),1)])),_:2},1032,["class","to"])],8,r)))),256))])])):(0,s.kq)("",!0)])),_:1})}var u=a(1474),m=a(1836),g=a(5323),h=a(3907),p=a(8339),_=a(2931),f={name:"meSideMenu",setup(){const e=(0,h.oR)(),t=t=>e.commit("nowChatUserInfo",t),a=()=>e.commit("showChatStatus",!0),s=(0,p.yj)(),i=s.meta.activeMenu,l=(0,_.iH)(i||s.path);return{setNowChatUserInfo:t,setShowChatStatus:a,selectedKeys:l}},data(){return{defaultAvatar:g,accountInfo:{},accountPhotoValue:"",versionTime:(0,u.O1)(),activeMsg:!1,showSideMenuStatus:!0}},watch:{menuData(e){console.log(e)}},computed:{username:{get(){return this.$store.state.username}},userAvatar:{get(){return this.$store.state.userAvatar}},identity:{get(){return this.$store.state.identity}},menuData:{get(){return this.$store.state.menuData}}},mounted(){let e=document.body.clientWidth;Math.floor(e)<768&&(this.showSideMenuStatus=!1),Math.floor(e)>=768&&Math.floor(e)<992&&(this.showSideMenuStatus=!0),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.showSideMenuStatus=!0),Math.floor(e)>=1200&&(this.showSideMenuStatus=!0),window.onresize=()=>{let e=document.body.clientWidth;Math.floor(e)<768&&(this.showSideMenuStatus=!1),Math.floor(e)>=768&&Math.floor(e)<992&&(this.showSideMenuStatus=!0),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.showSideMenuStatus=!0),Math.floor(e)>=1200&&(this.showSideMenuStatus=!0)}},methods:{showSideMenu(){this.showSideMenuStatus=!this.showSideMenuStatus},getUserMenuList(){let e=this,t={user_id:localStorage.getItem("uid"),identity:e.identity,company_id:localStorage.getItem("company_id"),create_user_id:localStorage.getItem("c_uid"),page:1,limit:1e3};(0,m.$Z)(t).then((t=>{if(200===t.code){let a=t.message.pc,s=a.filter((t=>t.identity==e.identity));this.$store.commit("menuData",s)}})).catch((e=>{console.log(e)}))},turnMyMessages(){this.setShowChatStatus()}}},v=a(8118);const w=(0,v.Z)(f,[["render",d],["__scopeId","data-v-73c372ce"]]);var y=w},9774:function(e,t,a){a.r(t),a.d(t,{default:function(){return H}});var s=a(7876),i=a(6252),l=a(6612);const o=e=>((0,i.dD)("data-v-6063c0f8"),e=e(),(0,i.Cn)(),e),n={class:"bg"},c={class:"profile-container"},r={class:"profile-l-container"},d={class:"profile-r-container"},u={class:"deals-list-container"},m={class:"deals-list-t"},g=o((()=>(0,i._)("div",{class:"deals-list-label"},"My Deals",-1))),h={class:"deals-list-t-r"},p=(0,i.Uk)(" Offer a Deal "),_={class:"deals-list-content"},f={class:"deals-item"},v={class:"deals-item-bg"},w={class:"img-slot-background"},y={key:0,class:"list-item-tag actived-0"},S={key:1,class:"list-item-tag actived-1"},M={key:2,class:"list-item-tag actived-2"},k={class:"deals-item-c"},D={class:"deals-item-c-l"},b={class:"deals-item-c-r"},C={class:"deals-item-c-r-1"},W={class:"deals-item-c-r-2"},z={class:"deals-item-b"},I={class:"deals-item-b-l"},P=(0,i.Uk)(" unknown "),$={class:"deals-item-b-r"},L=(0,i.Uk)(" DETAILS "),U={class:"deals-pagination"};function q(e,t,a,o,q,K){const Z=s.Z,x=(0,i.up)("el-button"),A=(0,i.up)("Picture"),H=(0,i.up)("el-icon"),T=(0,i.up)("el-image"),j=(0,i.up)("el-avatar"),N=(0,i.up)("el-pagination"),Y=(0,i.up)("el-scrollbar");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",c,[(0,i._)("div",r,[(0,i.Wm)(Z)]),(0,i._)("div",d,[(0,i.Wm)(Y,{class:"profile-r-bg-container"},{default:(0,i.w5)((()=>[(0,i._)("div",u,[(0,i._)("div",m,[g,(0,i._)("div",h,[(0,i.Wm)(x,{type:"primary",class:"post-deal-btn",round:"",onClick:t[0]||(t[0]=e=>K.postDeal())},{default:(0,i.w5)((()=>[p])),_:1})])]),(0,i._)("div",_,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(q.dealsListData,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"deals-item-container",key:t},[(0,i._)("div",f,[(0,i._)("div",v,[(0,i.Wm)(T,{class:"deals-item-background-img",src:e.company_info.background_image?e.company_info.background_image:"",fit:"cover"},{error:(0,i.w5)((()=>[(0,i._)("div",w,[(0,i.Wm)(H,{size:80,color:"#808080"},{default:(0,i.w5)((()=>[(0,i.Wm)(A)])),_:1})])])),_:2},1032,["src"]),0==e.status?((0,i.wg)(),(0,i.iD)("div",y," Pending ")):(0,i.kq)("",!0),1==e.status?((0,i.wg)(),(0,i.iD)("div",S," Active ")):(0,i.kq)("",!0),2==e.status?((0,i.wg)(),(0,i.iD)("div",M," Rejected ")):(0,i.kq)("",!0)]),(0,i._)("div",k,[(0,i._)("div",D,[(0,i.Wm)(j,{class:"deals-logo",src:e.company_logo},null,8,["src"])]),(0,i._)("div",b,[(0,i._)("div",C,(0,l.zw)(e.company_name),1),(0,i._)("div",W,(0,l.zw)(e.title),1)])]),(0,i._)("div",z,[(0,i._)("div",I,[e.company_info.category_name_en&&"0"!=e.company_info.category_name_en?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)((0,l.zw)(e.company_info.category_name_en),1)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[P],64))]),(0,i._)("div",$,[(0,i.Wm)(x,{link:"",onClick:t=>K.turnDealDetail(e.id)},{default:(0,i.w5)((()=>[L])),_:2},1032,["onClick"])])])])])))),128))])]),(0,i._)("div",U,[(0,i.Wm)(N,{layout:"prev, pager, next","default-current-page":1,onSizeChange:K.dealPageSizeChange,onCurrentChange:K.dealPageChange,"current-page":q.dealPage,"page-size":q.dealLimit,total:q.dealTotalNum},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])),_:1})])])])}var K=a(1836),Z={name:"deals",components:{meSideMenu:s.Z},data(){return{userInfo:{},basicUserInfo:{},dealsListData:[],dealPage:1,dealLimit:10,dealTotalNum:0}},mounted(){this.getMyDeals(this.dealPage,this.dealLimit)},methods:{postDeal(){this.$router.push({path:"/deals/offer",query:{}})},turnDealDetail(e){this.$router.push({path:"/deals/detail",query:{id:e}})},dealPageSizeChange(e){console.log(e)},dealPageChange(e){this.jobPage=e,this.getMyDeals(e,this.dealLimit),console.log(e)},getMyDeals(e,t){let a={token:localStorage.getItem("token"),page:e,limit:t};(0,K.Jq)(a).then((e=>{console.log(e),200==e.code?(this.dealsListData=e.message.data,this.dealTotalNum=e.message.total):console.log(e.msg)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))}}},x=a(8118);const A=(0,x.Z)(Z,[["render",q],["__scopeId","data-v-6063c0f8"]]);var H=A}}]);
//# sourceMappingURL=9774.1963917f.js.map