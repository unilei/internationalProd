"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[4172],{1842:function(e,a,t){var l=t(6252);const i={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 13 24",width:"1.2em",height:"1.2em"},o=(0,l._)("path",{fill:"currentColor",d:"M0 2.089v21.912l6.546-6.26l6.545 6.26V2.089A2.11 2.11 0 0 0 10.982 0l-.077.001h.004h-8.726L2.11 0A2.109 2.109 0 0 0 .001 2.088v.001z"},null,-1),s=[o];function n(e,a){return(0,l.wg)(),(0,l.iD)("svg",i,s)}a["Z"]={name:"fontisto-favorite",render:n}},988:function(e,a,t){var l=t(6252);const i={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},o=(0,l._)("path",{fill:"currentColor",d:"M19 2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h4l3 3l3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6 16h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 11.9 13 12.5 13 14h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41c0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1),s=[o];function n(e,a){return(0,l.wg)(),(0,l.iD)("svg",i,s)}a["Z"]={name:"ic-baseline-live-help",render:n}},8233:function(e,a,t){t.d(a,{Z:function(){return H}});var l=t(6252),i=t(6612);const o=e=>((0,l.dD)("data-v-3afeeb6a"),e=e(),(0,l.Cn)(),e),s={class:"container"},n={class:"deals-from-t"},c={key:0,class:"deals-from-back"},r=(0,l.Uk)(" BACK TO SEARCH RESULTS "),d={key:1,class:"deals-from-back"},g=(0,l.Uk)(" EXIT PREVIEW "),m={class:"deals-from-label"},u={class:"deals-from-b"},h={class:"deals-item-bg"},f=["onClick"],p=o((()=>(0,l._)("i",{class:"iconfont el-icon-alixll-heart-filled xll-heart-icon"},null,-1))),_=[p],v=["onClick"],D=o((()=>(0,l._)("i",{class:"iconfont el-icon-alixll-heart xll-heart-icon"},null,-1))),w=[D],y={class:"deals-item-c"},k={class:"deals-item-c-l"},b={class:"deals-item-c-r"},C={class:"deals-item-c-r-1"},V=["onClick"],W={class:"deals-item-b"},S={class:"deals-item-b-l"},L=(0,l.Uk)(" unknown "),$={class:"deals-item-b-r"},I=(0,l.Uk)(" DETAILS ");function z(e,a,t,o,p,D){const z=(0,l.up)("ArrowLeft"),x=(0,l.up)("el-icon"),q=(0,l.up)("el-button"),P=(0,l.up)("el-image"),H=(0,l.up)("el-avatar"),M=(0,l.up)("el-scrollbar");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(M,{class:"deals-from-bg-container"},{default:(0,l.w5)((()=>[(0,l._)("div",n,[t.fromVendorProfile?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(q,{class:"deals-from-back-btn",onClick:a[0]||(a[0]=e=>D.backToSearchResults()),link:""},{default:(0,l.w5)((()=>[(0,l.Wm)(x,null,{default:(0,l.w5)((()=>[(0,l.Wm)(z)])),_:1}),r])),_:1})])),t.fromVendorProfile?((0,l.wg)(),(0,l.iD)("div",d,[(0,l.Wm)(q,{class:"deals-from-back-btn",onClick:a[1]||(a[1]=e=>D.backToSearchResults()),link:""},{default:(0,l.w5)((()=>[(0,l.Wm)(x,null,{default:(0,l.w5)((()=>[(0,l.Wm)(z)])),_:1}),g])),_:1})])):(0,l.kq)("",!0),(0,l._)("div",m," Deals from "+(0,i.zw)(t.info.company_name),1)]),(0,l._)("div",u,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.listData,((a,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"deals-from-item",key:t},[(0,l._)("div",h,[(0,l.Wm)(P,{class:"deals-item-background-img",src:a.company_info.background_image?a.company_info.background_image:"",fit:"cover"},null,8,["src"]),a.is_favorite&&1==a.is_favorite?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"deals-item-favorite",onClick:l=>e.cancelFavorite(2,a.id,t)},_,8,f)):((0,l.wg)(),(0,l.iD)("div",{key:1,class:"deals-item-favorite",onClick:l=>e.addFavorite(a.id,2,a.title,a.company_logo,t)},w,8,v))]),(0,l._)("div",y,[(0,l._)("div",k,[(0,l.Wm)(H,{class:"deals-logo",src:a.company_logo},null,8,["src"])]),(0,l._)("div",b,[(0,l._)("div",C,(0,i.zw)(a.company_name),1),(0,l._)("div",{class:"deals-item-c-r-2",onClick:e=>D.showDealDetailDialog(a)},(0,i.zw)(a.title),9,V)])]),(0,l._)("div",W,[(0,l._)("div",S,[a.company_info.category_name_en&&"0"!=a.company_info.category_name_en?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Uk)((0,i.zw)(a.company_info.category_name_en),1)],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[L],64))]),(0,l._)("div",$,[(0,l.Wm)(q,{link:"",onClick:e=>D.showDealDetailDialog(a)},{default:(0,l.w5)((()=>[I])),_:2},1032,["onClick"])])])])))),128))])])),_:1})])}var x={name:"dealByListComponent",props:["listData","info","fromVendorProfile"],methods:{backToSearchResults(){this.$emit("back")},showDealDetailDialog(e){this.$emit("detail",e)}}},q=t(8118);const P=(0,q.Z)(x,[["render",z],["__scopeId","data-v-3afeeb6a"]]);var H=P},2047:function(e,a,t){t.d(a,{Z:function(){return T}});var l=t(6252);const i={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},o=(0,l._)("path",{fill:"currentColor",d:"M574 665.4a8.03 8.03 0 0 0-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0c-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 0 0-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 0 0 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0c59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 0 0 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 0 0-11.3 0L372.3 598.7a8.03 8.03 0 0 0 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"},null,-1),s=[o];function n(e,a){return(0,l.wg)(),(0,l.iD)("svg",i,s)}var c={name:"ant-design-link-outlined",render:n};const r={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 209",width:"1.2em",height:"1.2em"},d=(0,l._)("path",{fill:"#55acee",d:"M256 25.45a105.04 105.04 0 0 1-30.166 8.27c10.845-6.5 19.172-16.793 23.093-29.057a105.183 105.183 0 0 1-33.351 12.745C205.995 7.201 192.346.822 177.239.822c-29.006 0-52.523 23.516-52.523 52.52c0 4.117.465 8.125 1.36 11.97c-43.65-2.191-82.35-23.1-108.255-54.876c-4.52 7.757-7.11 16.78-7.11 26.404c0 18.222 9.273 34.297 23.365 43.716a52.312 52.312 0 0 1-23.79-6.57c-.003.22-.003.44-.003.661c0 25.447 18.104 46.675 42.13 51.5a52.592 52.592 0 0 1-23.718.9c6.683 20.866 26.08 36.05 49.062 36.475c-17.975 14.086-40.622 22.483-65.228 22.483c-4.24 0-8.42-.249-12.529-.734c23.243 14.902 50.85 23.597 80.51 23.597c96.607 0 149.434-80.031 149.434-149.435c0-2.278-.05-4.543-.152-6.795A106.748 106.748 0 0 0 256 25.45"},null,-1),g=[d];function m(e,a){return(0,l.wg)(),(0,l.iD)("svg",r,g)}var u={name:"logos-twitter",render:m};const h={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},f=(0,l._)("path",{fill:"#0A66C2",d:"M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4c-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009c-.002-12.157 9.851-22.014 22.008-22.016c12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453"},null,-1),p=[f];function _(e,a){return(0,l.wg)(),(0,l.iD)("svg",h,p)}var v={name:"logos-linkedin-icon",render:_};const D={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},w=(0,l._)("path",{fill:"#1877F2",d:"M256 128C256 57.308 198.692 0 128 0C57.308 0 0 57.307 0 128c0 63.888 46.808 116.843 108 126.445V165H75.5v-37H108V99.8c0-32.08 19.11-49.8 48.347-49.8C170.352 50 185 52.5 185 52.5V84h-16.14C152.958 84 148 93.867 148 103.99V128h35.5l-5.675 37H148v89.445c61.192-9.602 108-62.556 108-126.445"},null,-1),y=(0,l._)("path",{fill:"#FFF",d:"m177.825 165l5.675-37H148v-24.01C148 93.866 152.959 84 168.86 84H185V52.5S170.352 50 156.347 50C127.11 50 108 67.72 108 99.8V128H75.5v37H108v89.445A128.959 128.959 0 0 0 128 256a128.9 128.9 0 0 0 20-1.555V165h29.825"},null,-1),k=[w,y];function b(e,a){return(0,l.wg)(),(0,l.iD)("svg",D,k)}var C={name:"logos-facebook",render:b};const V=e=>((0,l.dD)("data-v-3c55a82a"),e=e(),(0,l.Cn)(),e),W={class:"dialog-container"},S=V((()=>(0,l._)("div",{class:"dialog-label"}," Share ",-1))),L={class:"share"},$={class:"share-l"},I={class:"share-r"},z={class:"action"},x=(0,l.Uk)(" CANCEL ");function q(e,a,t,i,o,s){const n=C,r=(0,l.up)("el-icon"),d=(0,l.up)("ShareNetwork"),g=v,m=u,h=c,f=(0,l.up)("el-popover"),p=(0,l.up)("el-button"),_=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(_,{"model-value":t.visible,width:"auto",center:"","show-close":!1,"before-close":s.beforeClose},{default:(0,l.w5)((()=>[(0,l._)("div",W,[S,(0,l._)("div",L,[(0,l._)("div",$,[(0,l.Wm)(d,{style:{"margin-right":"10px"},network:"Facebook",url:t.url,title:t.title,description:t.description,quote:t.quote},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{size:40},{default:(0,l.w5)((()=>[(0,l.Wm)(n)])),_:1})])),_:1},8,["url","title","description","quote"]),(0,l.Wm)(d,{style:{"margin-right":"10px"},network:"LinkedIn",url:t.url,title:t.title},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{size:40},{default:(0,l.w5)((()=>[(0,l.Wm)(g)])),_:1})])),_:1},8,["url","title"]),(0,l.Wm)(d,{style:{"margin-right":"10px"},network:"Twitter",url:t.url,title:t.title},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{size:40},{default:(0,l.w5)((()=>[(0,l.Wm)(m)])),_:1})])),_:1},8,["url","title"])]),(0,l._)("div",I,[(0,l.Wm)(f,{placement:"top-start",width:40,trigger:"click",content:"link copied!"},{reference:(0,l.w5)((()=>[(0,l.Wm)(r,{size:40,onClick:a[0]||(a[0]=e=>s.copyLink(t.url))},{default:(0,l.w5)((()=>[(0,l.Wm)(h)])),_:1})])),_:1})])]),(0,l._)("div",z,[(0,l.Wm)(p,{link:"",onClick:a[1]||(a[1]=e=>s.close())},{default:(0,l.w5)((()=>[x])),_:1})])])])),_:1},8,["model-value","before-close"])])}var P={name:"shareCard",props:["title","description","quote","url","visible"],methods:{close(){this.$emit("close")},beforeClose(e){this.$emit("close"),e()},readMoreDeal(){},copyLink(e){this.$copyText(e).then((function(e){console.log("copied"),console.log(e)}),(function(e){console.log(e)}))}}},H=t(8118);const M=(0,H.Z)(P,[["render",q],["__scopeId","data-v-3c55a82a"]]);var T=M},4172:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ze}});var l=t(2047),i=t(6252),o=t(6612);const s={key:0,class:"dialog-container"},n={class:"dialog-t"},c={class:"dialog-b"},r={class:"dialog-b-l"},d={class:"dialog-logo"},g={class:"dialog-qrcode"},m={class:"dialog-b-r"},u={class:"dialog-company-name"},h={class:"dialog-company-desc"},f={class:"dialog-title"},p={class:"dialog-desc"},_={class:"dialog-category"},v={class:"dialog-close"},D={class:"dialog-action"},w={class:"dialog-action-l"},y={key:0},k={class:"dialog-action-r"},b=(0,i.Uk)(" SHARE ");function C(e,a,t,l,C,V){const W=(0,i.up)("el-image"),S=(0,i.up)("el-avatar"),L=(0,i.up)("vue-qrcode"),$=(0,i.up)("el-scrollbar"),I=(0,i.up)("CloseBold"),z=(0,i.up)("el-icon"),x=(0,i.up)("el-space"),q=(0,i.up)("el-button"),P=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(P,{"model-value":t.visible,width:"auto",center:"","show-close":!1,"before-close":V.beforeClose},{default:(0,i.w5)((()=>[t.info?((0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("div",n,[(0,i.Wm)(W,{class:"dialog-background-img",fit:"cover",src:t.info.company_info.background_image},null,8,["src"])]),(0,i._)("div",c,[(0,i._)("div",r,[(0,i._)("div",d,[(0,i.Wm)(S,{class:"dialog-logo-img",src:t.info.company_logo},null,8,["src"])]),(0,i._)("div",g,[(0,i.Wm)(L,{value:t.qrcodeValue,options:{width:200}},null,8,["value"])])]),(0,i._)("div",m,[(0,i.Wm)($,{class:"dialog-b-r-height"},{default:(0,i.w5)((()=>[(0,i._)("div",u,(0,o.zw)(t.info.company_name),1),(0,i._)("p",h,(0,o.zw)(t.info.company_info.desc),1),(0,i._)("div",{class:"dialog-vendor-profile",onClick:a[0]||(a[0]=e=>V.readMoreDeal(t.info.company_info))}," VENDOR PROFILE "),(0,i._)("div",f,(0,o.zw)(t.info.title),1),(0,i._)("p",p,(0,o.zw)(t.info.desc),1),(0,i._)("div",_,(0,o.zw)(t.info.company_info.category_name_en),1)])),_:1}),(0,i._)("div",v,[(0,i.Wm)(z,{class:"dialog-close-icon",onClick:a[1]||(a[1]=e=>V.close()),size:20},{default:(0,i.w5)((()=>[(0,i.Wm)(I)])),_:1})])])]),(0,i._)("div",D,[(0,i._)("div",w,[(0,i.Wm)(x,{size:5,wrap:"",spacer:"·"},{default:(0,i.w5)((()=>[t.info.company_info?((0,i.wg)(),(0,i.iD)("span",y,(0,o.zw)(t.info.company_info.category_name_en),1)):(0,i.kq)("",!0)])),_:1})]),(0,i._)("div",k,[(0,i.Wm)(q,{link:"",onClick:a[2]||(a[2]=e=>V.share(t.info))},{default:(0,i.w5)((()=>[b])),_:1})])])])):(0,i.kq)("",!0)])),_:1},8,["model-value","before-close"])])}var V={name:"dealDetailCard",props:["info","visible","qrcodeValue"],methods:{close(){this.$emit("close")},beforeClose(e){this.$emit("close"),e()},readMoreDeal(e){this.$emit("viewProfile",e)},share(e){this.$emit("share",e)}}},W=t(8118);const S=(0,W.Z)(V,[["render",C],["__scopeId","data-v-0120c8b2"]]);var L=S,$=t(1842);const I=e=>((0,i.dD)("data-v-55951568"),e=e(),(0,i.Cn)(),e),z={class:"deals-featured-container"},x=I((()=>(0,i._)("div",{class:"deals-featured-label"}," Promoted ",-1))),q={class:"deals-item-bg"},P=["onClick"],H=["onClick"],M={class:"deals-item-c"},T={class:"deals-item-c-l"},F={class:"deals-item-c-r"},B=["onClick"],A=["onClick"],U=["onClick"],R={class:"deals-item-b"},O={class:"deals-item-b-l"},Y={class:"deals-item-b-r"},Z=(0,i.Uk)(" DETAILS ");function E(e,a,t,l,s,n){const c=(0,i.up)("el-image"),r=$.Z,d=(0,i.up)("el-icon"),g=(0,i.up)("CollectionTag"),m=(0,i.up)("el-avatar"),u=(0,i.up)("el-button"),h=(0,i.up)("el-empty"),f=(0,i.up)("el-scrollbar");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(f,{class:"deals-featured-scroll"},{default:(0,i.w5)((()=>[(0,i._)("div",z,[x,s.featuredDealsData.length>0?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(s.featuredDealsData,((e,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"deals-featured-item",key:a},[(0,i._)("div",q,[(0,i.Wm)(c,{class:"deals-item-background-img",src:e.company_info.background_image?e.company_info.background_image:"",fit:"cover",onClick:a=>n.viewProfile(e.company_info)},null,8,["src","onClick"]),e.is_favorite&&1==e.is_favorite?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"deals-item-favorite",onClick:t=>n.cancelFavorite(2,e.id,a)},[(0,i.Wm)(d,{color:"#6650B3",size:25},{default:(0,i.w5)((()=>[(0,i.Wm)(r)])),_:1})],8,P)):((0,i.wg)(),(0,i.iD)("div",{key:1,class:"deals-item-favorite",onClick:t=>n.addFavorite(e.id,2,e.title,e.company_logo,a)},[(0,i.Wm)(d,{size:25},{default:(0,i.w5)((()=>[(0,i.Wm)(g)])),_:1})],8,H))]),(0,i._)("div",M,[(0,i._)("div",T,[(0,i.Wm)(m,{class:"deals-logo",src:e.company_logo,onClick:a=>n.viewProfile(e.company_info)},null,8,["src","onClick"])]),(0,i._)("div",F,[(0,i._)("div",{class:"deals-item-c-r-1",onClick:a=>n.viewProfile(e.company_info)},(0,o.zw)(e.company_info.company_name),9,B),(0,i._)("div",{class:"deals-item-c-r-2",onClick:a=>n.showDealDetailDialog(e)},(0,o.zw)(e.title),9,A),(0,i._)("div",{class:"deals-item-c-r-3",onClick:a=>n.showDealDetailDialog(e)},(0,o.zw)(e.desc),9,U),(0,i._)("div",R,[(0,i._)("div",O,[e.company_info.category_name_en&&"0"!=e.company_info.category_name_en?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)((0,o.zw)(e.company_info.category_name_en),1)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[],64))]),(0,i._)("div",Y,[(0,i.Wm)(u,{link:"",onClick:a=>n.showDealDetailDialog(e)},{default:(0,i.w5)((()=>[Z])),_:2},1032,["onClick"])])])])])])))),128)):((0,i.wg)(),(0,i.j4)(h,{key:1,description:"..."}))])])),_:1})])}var N=t(1836),j={name:"featuredDealsPromoted",data(){return{featuredDealsData:[]}},mounted(){this.getFeaturedDealsList()},methods:{getFeaturedDealsList(){let e={};(0,N.dV)(e).then((e=>{console.log(e),200==e.code&&(this.featuredDealsData=e.message)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},viewProfile(e){this.$emit("viewProfile",e)},showDealDetailDialog(e){this.$emit("detail",e)},addFavorite(e,a,t,l,i){let o={token:localStorage.getItem("token"),type:a,type_id:e,type_title:t,type_url:l};(0,N.q8)(o).then((e=>{console.log(e),200==e.code&&(this.$message.success("Success"),this.featuredDealsData[i]["is_favorite"]=1)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},cancelFavorite(e,a,t){let l={token:localStorage.getItem("token"),type:e,type_id:a};(0,N.Bv)(l).then((e=>{console.log(e),200==e.code&&(this.featuredDealsData[t]["is_favorite"]=0)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))}}};const J=(0,W.Z)(j,[["render",E],["__scopeId","data-v-55951568"]]);var K=J,G=t(8044),Q=t(8233),X=t(988);const ee=e=>((0,i.dD)("data-v-10c72b2b"),e=e(),(0,i.Cn)(),e),ae={class:"container"},te={class:"filter-bg-container"},le={class:"filter-container"},ie={class:"filter-item"},oe=ee((()=>(0,i._)("div",{class:"filter-label"},"Location",-1))),se={class:"filter-item"},ne={class:"filter-item"},ce=ee((()=>(0,i._)("div",{class:"filter-label"},"Tags",-1))),re={class:"filter-item"},de=ee((()=>(0,i._)("div",{class:"filter-label"},"Deal type",-1))),ge={class:"filter-checkbox-container"},me={class:"filter-search-btn-container"},ue=(0,i.Uk)(" SEARCH "),he={class:"filter-contact-us-container"};function fe(e,a,t,l,s,n){const c=(0,i.up)("el-option"),r=(0,i.up)("el-select"),d=(0,i.up)("el-checkbox"),g=(0,i.up)("el-checkbox-group"),m=(0,i.up)("el-button"),u=(0,i.up)("el-scrollbar"),h=X.Z,f=(0,i.up)("el-icon");return(0,i.wg)(),(0,i.iD)("div",ae,[(0,i._)("div",te,[(0,i.Wm)(u,{class:"filter-bg"},{default:(0,i.w5)((()=>[(0,i._)("div",le,[(0,i._)("div",ie,[oe,(0,i.Wm)(r,{class:"filter-select",modelValue:s.locationValue,"onUpdate:modelValue":a[0]||(a[0]=e=>s.locationValue=e),clearable:"",placeholder:"Location",size:"default",onChange:n.locationChange},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.locationData,(e=>((0,i.wg)(),(0,i.j4)(c,{key:e.id,label:e.Pinyin,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])]),(0,i._)("div",se,[(0,i.Wm)(d,{onChange:n.selectIsOnline,modelValue:s.filterIsOnlineValue,"onUpdate:modelValue":a[1]||(a[1]=e=>s.filterIsOnlineValue=e),label:"Online"},null,8,["onChange","modelValue"])]),(0,i._)("div",ne,[ce,(0,i.Wm)(r,{class:"filter-select",modelValue:s.tagValue,"onUpdate:modelValue":a[2]||(a[2]=e=>s.tagValue=e),clearable:"",multiple:"",placeholder:"Tags",size:"default",onChange:n.tagChange},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.tagsData,(e=>((0,i.wg)(),(0,i.j4)(c,{key:e.id,label:e.name_en,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])]),(0,i._)("div",re,[de,(0,i._)("div",ge,[(0,i.Wm)(g,{modelValue:s.checkedCateData,"onUpdate:modelValue":a[3]||(a[3]=e=>s.checkedCateData=e),max:1},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.subCateData,((e,a)=>((0,i.wg)(),(0,i.j4)(d,{key:a,label:e.id},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.identity_name),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])])]),(0,i._)("div",me,[(0,i.Wm)(m,{type:"primary",round:"",onClick:a[4]||(a[4]=e=>n.search())},{default:(0,i.w5)((()=>[ue])),_:1})])])),_:1}),(0,i._)("div",he,[(0,i.Wm)(f,{size:45,color:"#6648FF",onClick:a[5]||(a[5]=e=>n.contactUs())},{default:(0,i.w5)((()=>[(0,i.Wm)(h)])),_:1}),(0,i._)("span",{onClick:a[6]||(a[6]=e=>n.contactUs())},"Contact Us")])])])}var pe=t(4276),_e={name:"dealFilterComponent",props:["identity","locationData","tagsData","subCateData"],data(){return{locationValue:"",filterIsOnlineValue:!1,onlineValue:-1,tagValue:[],sCateId:0,checkedCateData:[]}},methods:{contactUs(){window.open("https://salesiq.zoho.com/signaturesupport.ls?widgetcode=75672d291fd9d5fcab53ffa3194f32598809c21f9b5284cbaf3493087cdd2e0d1a2010ab7b6727677d37b27582c0e9c4","_blank")},offerDeal(){let e=localStorage.getItem("token"),a=this;if(!e||""==e)return this.$msgbox({title:"Offer a Deal",message:"Before offer a deal, you need to log in",type:"warning",confirmButtonText:"Log in",callback(e){if(console.log(e),"confirm"===e){let e={path:"/deals",query:{id:a.$route.query.id}},t=(0,pe.cv)(JSON.stringify(e));a.$router.push({path:"/edupassport",query:{redirect_params:t}})}}});let t=localStorage.getItem("identity");if(5!=t)return this.$message.error("Oops! Your current identity is not an vendor, please switch to Vendor");a.$router.push({path:"/deals/offer",query:{}})},locationChange(){},selectIsOnline(e){console.log(e),this.onlineValue=e?1:0},tagChange(){},selectSubCate(){},search(){let e=this.locationValue,a=this.onlineValue,t=this.tagValue,l=this.checkedCateData,i={};e&&(i.city=e),a&&(i.is_online=a),t.length>0&&(i.tag_name=t),l.length>0&&(i.company_category_id=l[0]),this.$emit("search",i)}}};const ve=(0,W.Z)(_e,[["render",fe],["__scopeId","data-v-10c72b2b"]]);var De=ve;const we={class:"bg"},ye={class:"xll-container"},ke={class:"deals-bg-container"},be={class:"deals-container"},Ce={class:"deals-item"},Ve={class:"deals-item-bg"},We=["onClick"],Se=["onClick"],Le={class:"deals-item-c"},$e={class:"deals-item-c-l"},Ie={class:"deals-item-c-r"},ze=["onClick"],xe=["onClick"],qe={class:"deals-item-b"},Pe={class:"deals-item-b-l"},He={class:"deals-item-b-r"},Me=(0,i.Uk)(" DETAILS "),Te={class:"deals-pagination"};function Fe(e,a,t,s,n,c){const r=De,d=(0,i.up)("el-col"),g=Q.Z,m=G.Z,u=K,h=(0,i.up)("el-image"),f=$.Z,p=(0,i.up)("el-icon"),_=(0,i.up)("CollectionTag"),v=(0,i.up)("el-avatar"),D=(0,i.up)("el-button"),w=(0,i.up)("el-pagination"),y=(0,i.up)("el-empty"),k=(0,i.up)("el-scrollbar"),b=(0,i.up)("el-row"),C=L,V=l.Z,W=(0,i.Q2)("loading");return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",we,[(0,i._)("div",ye,[(0,i.Wm)(b,{gutter:0,align:"top",justify:"center"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{xs:24,sm:24,md:4,lg:4,xl:4},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{locationData:n.locationOptions,tagsData:n.tagsData,subCateData:n.subCateData,onSearch:c.confirmFilterSearch},null,8,["locationData","tagsData","subCateData","onSearch"])])),_:1}),n.showDealDetailStatus?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(d,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{listData:n.dealsListData,onBack:c.backToSearchResults,onDetail:c.showDealDetailDialog,info:n.companyInfo},null,8,["listData","onBack","onDetail","info"])])),_:1}),(0,i.Wm)(d,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{info:n.companyInfo,identity:5},null,8,["info"])])),_:1})],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Wm)(d,{xs:24,sm:24,md:7,lg:7,xl:6},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{onViewProfile:c.viewProfile,onDetail:c.showDealDetailDialog},null,8,["onViewProfile","onDetail"])])),_:1}),(0,i.Wm)(d,{class:"deals-list-col",xs:24,sm:24,md:13,lg:13,xl:14},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{class:"deals-list-scroll"},{default:(0,i.w5)((()=>[(0,i._)("div",ke,[n.dealsListData.length>0?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",be,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.dealsListData,((e,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"deals-item-container",key:a},[(0,i._)("div",Ce,[(0,i._)("div",Ve,[(0,i.Wm)(h,{class:"deals-item-background-img",src:e.company_info.background_image?e.company_info.background_image:"",fit:"cover",onClick:a=>c.viewProfile(e.company_info)},null,8,["src","onClick"]),e.is_favorite&&1==e.is_favorite?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"deals-item-favorite",onClick:t=>c.cancelFavorite(2,e.id,a)},[(0,i.Wm)(p,{color:"#6650B3",size:25},{default:(0,i.w5)((()=>[(0,i.Wm)(f)])),_:1})],8,We)):((0,i.wg)(),(0,i.iD)("div",{key:1,class:"deals-item-favorite",onClick:t=>c.addFavorite(e.id,2,e.title,e.company_logo,a)},[(0,i.Wm)(p,{size:25},{default:(0,i.w5)((()=>[(0,i.Wm)(_)])),_:1})],8,Se))]),(0,i._)("div",Le,[(0,i._)("div",$e,[(0,i.Wm)(v,{class:"deals-logo",src:e.company_logo,onClick:a=>c.viewProfile(e.company_info)},null,8,["src","onClick"])]),(0,i._)("div",Ie,[(0,i._)("div",{class:"deals-item-c-r-1",onClick:a=>c.viewProfile(e.company_info)},(0,o.zw)(e.company_info.company_name),9,ze),(0,i._)("div",{class:"deals-item-c-r-2",onClick:a=>c.showDealDetailDialog(e)},(0,o.zw)(e.title),9,xe)])]),(0,i._)("div",qe,[(0,i._)("div",Pe,[e.company_info.category_name_en&&"0"!=e.company_info.category_name_en?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)((0,o.zw)(e.company_info.category_name_en),1)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[],64))]),(0,i._)("div",He,[(0,i.Wm)(D,{link:"",onClick:a=>c.showDealDetailDialog(e)},{default:(0,i.w5)((()=>[Me])),_:2},1032,["onClick"])])])])])))),128))]),(0,i._)("div",Te,[(0,i.Wm)(w,{layout:"prev, pager, next","default-current-page":1,onSizeChange:c.dealPageSizeChange,onCurrentChange:c.dealPageChange,"current-page":n.dealPage,"page-size":n.dealLimit,total:n.dealTotalNum},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])],64)):((0,i.wg)(),(0,i.j4)(y,{key:1,description:"..."}))])])),_:1})])),_:1})],64))])),_:1}),(0,i.Wm)(C,{info:n.dealDetailData,qrcodeValue:n.qrcodeValue,onClose:a[0]||(a[0]=e=>n.dealDetailDialogVisible=!1),onShare:c.shareDeal,onViewProfile:c.viewProfile,visible:n.dealDetailDialogVisible},null,8,["info","qrcodeValue","onShare","onViewProfile","visible"]),(0,i.Wm)(V,{visible:n.shareDialogVisible,title:n.shareInfo.title,description:n.shareInfo.desc,quote:n.shareInfo.desc,url:s.locationUrl+"?id="+n.shareInfo.id,onClose:a[1]||(a[1]=e=>n.shareDialogVisible=!1)},null,8,["visible","title","description","quote","url"])])])),[[W,n.showLoadingStatus]])}var Be=t(6158),Ae=t.n(Be),Ue=t(8847),Re=t.n(Ue),Oe={name:"index",components:{dealDetailCard:L,shareCard:l.Z,dealFilterComponent:De,businessProfile:G.Z,dealByListComponent:Q.Z,featuredDealsPromoted:K},setup(){const e=window.location.href;return{locationUrl:e}},data(){return{subCateData:[],locationValue:"",locationOptions:[],tagValue:[],tagsData:[],dealsListData:[],dealPage:1,dealLimit:10,dealTotalNum:0,sCateId:0,showLoadingStatus:!0,adsDataMid:[],adsDataBottom:[],featuredDealsData:[],dealDetailDialogVisible:!1,dealDetailData:{},qrcodeValue:"",webDomain:"https://www.edupassport.io",showDealDetailStatus:!1,filterIsOnlineValue:!1,detailData:{},accessToken:"pk.eyJ1Ijoic3JrbGluZ2UiLCJhIjoiY2t2NnR4anI2OWU5NDJ3bWE1dHd3c3h1aSJ9.O0JfjqiyBBkFuf4G-DQ-DQ",mapStyle:"mapbox://styles/mapbox/streets-v11",shareDialogVisible:!1,shareInfo:{},filterResultData:{},companyInfo:{}}},beforeRouteUpdate(e){console.log(e);let a=e.query.id;a?(console.log("deal detail =========="),this.getDealDetail(a),this.showDealDetailStatus=!0):(this.getDealsList(this.dealPage,this.dealLimit),this.getFeaturedDealsList(),this.showDealDetailStatus=!1)},mounted(){let e=this.$route.query.id;e?(this.getDealDetail(e),this.showDealDetailStatus=!0):(this.showDealDetailStatus=!1,this.getDealsList(this.dealPage,this.dealLimit),this.getFeaturedDealsList()),this.getSubIdentityList(),this.getTagsList(),this.getDealsAreaList()},methods:{confirmFilterSearch(e){console.log(e),this.filterResultData=e,this.getDealsList(this.dealPage,this.dealLimit)},backToSearchResults(){this.showDealDetailStatus=!1,this.getDealsList(this.dealPage,this.dealLimit),this.getFeaturedDealsList()},readMoreDeal(e){this.showDealDetailStatus=!0,this.dealDetailDialogVisible=!1,this.$router.push({path:"/deals",query:{id:e}})},showDealDetailDialog(e){this.dealDetailData=e,this.dealDetailDialogVisible=!0,this.qrcodeValue=this.webDomain+"?id="+e.id},shareDeal(e){this.shareDialogVisible=!0,this.shareInfo=e},viewProfile(e){this.companyInfo=e,this.showDealDetailStatus=!0,this.dealDetailDialogVisible=!1},turnBanner(e){if(console.log(e),""!=e)window.location.href=e;else{let e=localStorage.getItem("token");if(!e)return void window.open("https://salesiq.zoho.com/signaturesupport.ls?widgetcode=75672d291fd9d5fcab53ffa3194f32598809c21f9b5284cbaf3493087cdd2e0d1a2010ab7b6727677d37b27582c0e9c4","_blank");this.$router.push("/me/ads/platform")}},getAdsList(){let e={page:1,limit:1e4};(0,N.tb)(e).then((e=>{if(200==e.code){let a=[],t=[],l=localStorage.getItem("identity");l||(a=e.message.filter((e=>"guest_d2"==e.name)),t=e.message.filter((e=>"guest_d3"==e.name))),1==l&&(a=e.message.filter((e=>"educator_d2"==e.name)),t=e.message.filter((e=>"educator_d3"==e.name))),2==l&&(a=e.message.filter((e=>"business_d2"==e.name)),t=e.message.filter((e=>"business_d3"==e.name))),3==l&&(a=e.message.filter((e=>"vendor_d2"==e.name)),t=e.message.filter((e=>"vendor_d3"==e.name))),a.length>0&&(this.adsDataMid=a[0].data),t.length>0&&(this.adsDataBottom=t[0].data)}})).catch((e=>{this.$message.error(e.msg)}))},turnDealDetail(e){this.showDealDetailStatus=!0,this.$router.push({path:"/deals",query:{id:e}})},getSubIdentityList(){let e={pid:5,tree:1};(0,N.cF)(e).then((e=>{console.log(e),200==e.code&&(this.subCateData=e.message)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},getTagsList(){let e={page:1,limit:1e3};(0,N.g_)(e).then((e=>{console.log(e),200==e.code&&(this.tagsData=e.message.data)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},getDealsList(e,a){let t=this.filterResultData,l={page:e,limit:a},i=Object.assign(l,t);(0,N.BZ)(i).then((e=>{console.log(e),200==e.code&&(this.dealsListData=e.message.data,this.dealTotalNum=e.message.total,this.showLoadingStatus=!1)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},getDealsAreaList(){(0,N.DP)({}).then((e=>{console.log(e),200==e.code&&(this.locationOptions=e.message)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},dealPageSizeChange(e){console.log(e)},dealPageChange(e){this.showLoadingStatus=!0,this.dealPage=e,this.getDealsList(e,this.dealLimit),document.documentElement.scrollTop=200},addFavorite(e,a,t,l,i){let o={token:localStorage.getItem("token"),type:a,type_id:e,type_title:t,type_url:l};(0,N.q8)(o).then((e=>{console.log(e),200==e.code&&(this.$message.success("Success"),this.dealsListData[i]["is_favorite"]=1)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},cancelFavorite(e,a,t){let l={token:localStorage.getItem("token"),type:e,type_id:a};(0,N.Bv)(l).then((e=>{console.log(e),200==e.code&&(this.dealsListData[t]["is_favorite"]=0)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},offerDeal(){let e=localStorage.getItem("token"),a=this;if(!e||""==e)return this.$msgbox({title:"Offer a Deal",message:"Before offer a deal, you need to log in",type:"warning",confirmButtonText:"Log in",callback(e){if(console.log(e),"confirm"===e){let e={path:"/deals",query:{id:a.$route.query.id}},t=(0,pe.cv)(JSON.stringify(e));a.$router.push({path:"/login",query:{redirect_params:t}})}}});let t=localStorage.getItem("identity");if(5!=t)return this.$message.error("Oops! Your current identity is not an vendor, please switch to Vendor");a.$router.push({path:"/deals/offer",query:{}})},selectRole(e){this.$loading({text:"Loading..."});let a={user_id:localStorage.getItem("uid"),identity:e};(0,N.Vd)(a).then((a=>{let t=a.message.user_contact,l={},i={},o=t.is_educator,s=t.is_recruiting,n=t.is_school,c=t.is_other,r=t.is_vendor,d=e;1==d&&(o>10?(l=a.message.user_contact.educator_contact,this.changeIdentity(l.id,1,2),this.$loading().close()):(this.$loading().close(),this.$router.push({path:"/profile/contact/user",query:{i:1}}))),2==d&&(s>10?(i=a.message.user_contact.company,this.changeIdentity(i.id,2,2),this.$loading().close()):(this.$loading().close(),this.$router.push({path:"/profile/contact/user",query:{i:2}}),this.dialogBusinessAccountVisible=!1)),3==d&&(n>10?(i=a.message.user_contact.company,this.changeIdentity(i.id,3,2),this.$loading().close()):(this.$loading().close(),this.$router.push({path:"/profile/contact/user",query:{i:3}}),this.dialogBusinessAccountVisible=!1)),4==d&&(c>10?(i=a.message.user_contact.company,this.changeIdentity(i.id,4,2),this.$loading().close()):(this.$loading().close(),this.$router.push({path:"/profile/contact/user",query:{i:4}}),this.dialogBusinessAccountVisible=!1)),5==d&&(r>10?(i=a.message.user_contact.company,this.changeIdentity(i.id,5,2),this.$loading().close()):(this.$loading().close(),this.$router.push({path:"/profile/contact/user",query:{i:5}})))})).catch((e=>{console.log(e),this.$loading().close(),this.$message.error(e.msg)}))},changeIdentity(e,a,t){let l={company_id:e,language:t,identity:a};(0,N.bv)(l).then((t=>{if(200==t.code){this.$store.commit("allIdentityChanged",!0),localStorage.setItem("company_id",e),localStorage.setItem("identity",a);let l=JSON.stringify(t.message);localStorage.setItem("menuData",l),this.$store.commit("identity",a),this.$store.commit("menuData",t.message),this.$loading().close()}})).catch((e=>{console.log(e),this.$loading().close(),this.$message.error(e.msg)}))},getFeaturedDealsList(){let e={};(0,N.dV)(e).then((e=>{console.log(e),200==e.code&&(this.featuredDealsData=e.message)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},getDealDetail(e){let a={deal_id:e,token:localStorage.getItem("token")};(0,N.kR)(a).then((e=>{console.log(e),200==e.code&&(this.detailData=e.message,this.showLoadingStatus=!1,this.initMap(e.message.lng,e.message.lat))})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},initMap(e,a){Ae().accessToken=this.accessToken;const t=new(Ae().Map)({container:"mapContainer",center:[e,a],style:this.mapStyle,zoom:12}),l=new(Ae().NavigationControl);t.addControl(l,"top-right");const i=new(Ae().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0});t.addControl(i,"top-right");const o=new(Re())({accessToken:this.accessToken,mapboxgl:Ae()});t.addControl(o,"top-left");const s=new(Ae().Marker);s.setLngLat([e,a]).addTo(t)}}};const Ye=(0,W.Z)(Oe,[["render",Fe],["__scopeId","data-v-61c089da"]]);var Ze=Ye}}]);
//# sourceMappingURL=4172.0a358bf9.js.map