"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[964],{7876:function(e,t,s){s.d(t,{Z:function(){return k}});var o=s(6252),a=s(6612);const i={class:"menu-btn-container"},l=(0,o.Uk)("Menu"),n={key:0,class:"profile-l-container"},c={class:"l-container"},r=["Key"];function d(e,t,s,d,u,m){const h=(0,o.up)("el-button"),g=(0,o.up)("el-image"),f=(0,o.up)("router-link"),_=(0,o.up)("el-scrollbar");return(0,o.wg)(),(0,o.j4)(_,{class:"menu-xll-bg-container"},{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o.Wm)(h,{class:"menu-btn",type:"primary",onClick:t[0]||(t[0]=e=>m.showSideMenu())},{default:(0,o.w5)((()=>[l])),_:1})]),u.showSideMenuStatus?((0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(m.menuData,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"l-item l-item-margin",Key:t},[(0,o.Wm)(f,{class:(0,a.C_)(d.selectedKeys===e.link?"router-link-exact-active":""),to:{path:e.link},exact:""},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{class:"xll-icon-image",src:e.icon},null,8,["src"]),(0,o._)("span",null,(0,a.zw)(e.menu_name_en),1)])),_:2},1032,["class","to"])],8,r)))),256))])])):(0,o.kq)("",!0)])),_:1})}var u=s(1474),m=s(1836),h=s(5323),g=s(3907),f=s(8339),_=s(2931),p={name:"meSideMenu",setup(){const e=(0,g.oR)(),t=t=>e.commit("nowChatUserInfo",t),s=()=>e.commit("showChatStatus",!0),o=(0,f.yj)(),a=o.meta.activeMenu,i=(0,_.iH)(a||o.path);return{setNowChatUserInfo:t,setShowChatStatus:s,selectedKeys:i}},data(){return{defaultAvatar:h,accountInfo:{},accountPhotoValue:"",versionTime:(0,u.O1)(),activeMsg:!1,showSideMenuStatus:!0}},watch:{menuData(e){console.log(e)}},computed:{username:{get(){return this.$store.state.username}},userAvatar:{get(){return this.$store.state.userAvatar}},identity:{get(){return this.$store.state.identity}},menuData:{get(){return this.$store.state.menuData}}},mounted(){let e=document.body.clientWidth;Math.floor(e)<768&&(this.showSideMenuStatus=!1),Math.floor(e)>=768&&Math.floor(e)<992&&(this.showSideMenuStatus=!0),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.showSideMenuStatus=!0),Math.floor(e)>=1200&&(this.showSideMenuStatus=!0),window.onresize=()=>{let e=document.body.clientWidth;Math.floor(e)<768&&(this.showSideMenuStatus=!1),Math.floor(e)>=768&&Math.floor(e)<992&&(this.showSideMenuStatus=!0),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.showSideMenuStatus=!0),Math.floor(e)>=1200&&(this.showSideMenuStatus=!0)}},methods:{showSideMenu(){this.showSideMenuStatus=!this.showSideMenuStatus},getUserMenuList(){let e=this,t={user_id:localStorage.getItem("uid"),identity:e.identity,company_id:localStorage.getItem("company_id"),create_user_id:localStorage.getItem("c_uid"),page:1,limit:1e3};(0,m.$Z)(t).then((t=>{if(200===t.code){let s=t.message.pc,o=s.filter((t=>t.identity==e.identity));this.$store.commit("menuData",o)}})).catch((e=>{console.log(e)}))},turnMyMessages(){this.setShowChatStatus()}}},y=s(8118);const w=(0,y.Z)(p,[["render",d],["__scopeId","data-v-73c372ce"]]);var k=w},5832:function(e,t,s){s.r(t),s.d(t,{default:function(){return O}});var o=s(526),a=s(6252),i=s(6612);const l=e=>((0,a.dD)("data-v-39d9cf72"),e=e(),(0,a.Cn)(),e),n={class:"container"},c={class:"deals-from-t"},r={key:0,class:"deals-from-back"},d=(0,a.Uk)(" BACK TO SEARCH RESULTS "),u={key:1,class:"deals-from-back"},m=(0,a.Uk)(" EXIT PREVIEW "),h={class:"deals-from-label"},g={class:"deals-from-b"},f={class:"deals-item-bg"},_={class:"img-slot-background"},p=["onClick"],y=l((()=>(0,a._)("i",{class:"iconfont el-icon-alixll-heart-filled xll-heart-icon"},null,-1))),w=[y],k=["onClick"],b=l((()=>(0,a._)("i",{class:"iconfont el-icon-alixll-heart xll-heart-icon"},null,-1))),v=[b],D={class:"deals-item-c"},S={class:"deals-item-c-l"},M={class:"deals-item-c-r"},C={class:"deals-item-c-r-1"},W=["onClick"],I={class:"deals-item-b"},L={class:"deals-item-b-l"},$=(0,a.Uk)(" unknown "),x={class:"deals-item-b-r"},z=(0,a.Uk)(" DETAILS ");function E(e,t,s,o,l,y){const b=(0,a.up)("ArrowLeft"),E=(0,a.up)("el-icon"),P=(0,a.up)("el-button"),A=(0,a.up)("Picture"),R=(0,a.up)("el-image"),T=(0,a.up)("el-avatar"),B=(0,a.up)("el-empty"),U=(0,a.up)("el-scrollbar");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(U,{class:"deals-from-bg-container"},{default:(0,a.w5)((()=>[(0,a._)("div",c,[s.fromVendorProfile?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(P,{class:"deals-from-back-btn",onClick:t[0]||(t[0]=e=>y.backToSearchResults()),link:""},{default:(0,a.w5)((()=>[(0,a.Wm)(E,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b)])),_:1}),d])),_:1})])),s.fromVendorProfile?((0,a.wg)(),(0,a.iD)("div",u,[(0,a.Wm)(P,{class:"deals-from-back-btn",onClick:t[1]||(t[1]=e=>y.backToSearchResults()),link:""},{default:(0,a.w5)((()=>[(0,a.Wm)(E,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b)])),_:1}),m])),_:1})])):(0,a.kq)("",!0),(0,a._)("div",h," Deals from "+(0,i.zw)(s.info.company_name),1)]),(0,a._)("div",g,[s.listData.length>0?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(s.listData,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"deals-from-item",key:s},[(0,a._)("div",f,[(0,a.Wm)(R,{class:"deals-item-background-img",src:t.company_info.background_image?t.company_info.background_image:"",fit:"cover"},{error:(0,a.w5)((()=>[(0,a._)("div",_,[(0,a.Wm)(E,{size:80,color:"#808080"},{default:(0,a.w5)((()=>[(0,a.Wm)(A)])),_:1})])])),_:2},1032,["src"]),t.is_favorite&&1==t.is_favorite?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"deals-item-favorite",onClick:o=>e.cancelFavorite(2,t.id,s)},w,8,p)):((0,a.wg)(),(0,a.iD)("div",{key:1,class:"deals-item-favorite",onClick:o=>e.addFavorite(t.id,2,t.title,t.company_logo,s)},v,8,k))]),(0,a._)("div",D,[(0,a._)("div",S,[(0,a.Wm)(T,{class:"deals-logo",src:t.company_logo},null,8,["src"])]),(0,a._)("div",M,[(0,a._)("div",C,(0,i.zw)(t.company_name),1),(0,a._)("div",{class:"deals-item-c-r-2",onClick:e=>y.showDealDetailDialog(t)},(0,i.zw)(t.title),9,W)])]),(0,a._)("div",I,[(0,a._)("div",L,[t.company_info.category_name_en&&"0"!=t.company_info.category_name_en?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Uk)((0,i.zw)(t.company_info.category_name_en),1)],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[$],64))]),(0,a._)("div",x,[(0,a.Wm)(P,{link:"",onClick:e=>y.showDealDetailDialog(t)},{default:(0,a.w5)((()=>[z])),_:2},1032,["onClick"])])])])))),128)):((0,a.wg)(),(0,a.j4)(B,{key:1,description:"..."}))])])),_:1})])}var P={name:"dealByListComponent",props:["listData","info","fromVendorProfile"],methods:{backToSearchResults(){this.$emit("back")},showDealDetailDialog(e){this.$emit("detail",e)}}},A=s(8118);const R=(0,A.Z)(P,[["render",E],["__scopeId","data-v-39d9cf72"]]);var T=R,B=s(7876);const U={class:"business-profile-container"},j={class:"business-profile-l"},N={class:"business-profile-r"},Z={class:"business-deals"},F={class:"business-profile"};function H(e,t,s,i,l,n){const c=B.Z,r=T,d=(0,a.up)("el-col"),u=o.Z,m=(0,a.up)("el-row");return(0,a.wg)(),(0,a.iD)("div",U,[(0,a._)("div",j,[(0,a.Wm)(c)]),(0,a._)("div",N,[(0,a.Wm)(m,{gutter:0,align:"top",justify:"space-between"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{xs:22,sm:22,md:8,lg:9,xl:8},{default:(0,a.w5)((()=>[(0,a._)("div",Z,[(0,a.Wm)(r,{listData:l.dealsListData,"from-vendor-profile":!0,onBack:n.backToSearchResults,onDetail:n.showDealDetailDialog,info:l.companyInfo},null,8,["listData","onBack","onDetail","info"])])])),_:1}),(0,a.Wm)(d,{xs:22,sm:22,md:16,lg:15,xl:16},{default:(0,a.w5)((()=>[(0,a._)("div",F,[(0,a.Wm)(u,{canEdit:!0,fromDeal:!1,info:l.companyInfo,identity:n.identity},null,8,["info","identity"])])])),_:1})])),_:1})])])}var K=s(1836),V=s(4276),q={name:"profile",components:{meSideMenu:B.Z,businessProfile:o.Z,dealByListComponent:T},computed:{identity:{get(){return this.$store.state.identity}}},data(){return{profilePercentage:0,userContact:{},companyContact:{},companyInfo:{},dealsListData:[]}},mounted(){let e=this.$route.query.str;e&&console.log((0,V.Jx)(e)),this.getUserInfo(),this.updateBusinessProfile(),this.getDealsList(1,1e3)},methods:{getDealsList(e,t){let s=this.filterResultData,o={page:e,limit:t},a=Object.assign(o,s);(0,K.Jq)(a).then((e=>{console.log(e),200==e.code&&(this.dealsListData=e.message.data,this.dealTotalNum=e.message.total,this.showLoadingStatus=!1)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},backToSearchResults(){this.$router.push("/account/home")},showDealDetailDialog(){},updateBusinessProfile(){let e={token:localStorage.getItem("token")};2==this.identity&&(0,K.H7)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)})),3==this.identity&&(0,K.kg)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)})),4==this.identity&&(0,K.yx)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},getUserInfo(){let e=localStorage.getItem("identity"),t={identity:e};(0,K.Lk)(t).then((t=>{if(console.log(t),200==t.code){let s=t.message.user_contact,o=t.message.user_contact.company;if(2==e&&(this.profilePercentage=s.is_recruiting),3==e&&(this.profilePercentage=s.is_school),4==e&&(this.profilePercentage=s.is_other),o&&(this.companyInfo=o,o.benefits)){let e=o.benefits;e.forEach(((t,s)=>{e[s].id=t.object_id,e[s].pid=t.object_pid})),this.selectBenefitsList=e,this.benefitsList=o.benefits}s&&(this.userContact=s);let a=o.images;this.accountImageFileList=[],a&&a.forEach((e=>{let t={name:"",url:e.url};this.accountImageFileList.push(t)}))}})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},addFavorite(e,t,s,o,a){let i={token:localStorage.getItem("token"),type:t,type_id:e,type_title:s,type_url:o};(0,K.q8)(i).then((e=>{console.log(e),200==e.code&&(this.$message.success("Success"),this.jobListData[a]["is_favorite"]=1)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},cancelFavorite(e,t,s){let o={token:localStorage.getItem("token"),type:e,type_id:t};(0,K.Bv)(o).then((e=>{console.log(e),200==e.code&&(this.jobListData[s]["is_favorite"]=0)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},async submitEduBusinessCompanyForm(){let e=localStorage.getItem("uid"),t=[{zf_referrer_name:""},{zf_redirect_url:""},{zc_gad:""},{SingleLine:this.companyInfo.company_name},{Dropdown2:""},{Dropdown:"Education Business"},{Website:""},{SingleLine1:""},{Number2:""},{SingleLine5:e},{PhoneNumber_countrycode:""},{Email:""},{Number:""},{Number1:""},{Dropdown1:""},{Address_AddressLine1:""},{Address_City:""},{Address_Region:""},{Address_Country:""},{SingleLine4:""},{MultiLine:""},{SingleLine3:""},{Number3:""},{Number4:""},{MultipleChoice:""},{MultiLine1:""},{MultiLine2:""},{Website1:""},{Website2:this.companyInfo.logo},{Website3:this.companyInfo.background_image}],s={zoho_data:t,zoho_url:"https://forms.zohopublic.com/edupassport/form/EduBusinessCompanyForm/formperma/2gsVgXjDNmE5niOKVzRmwT2tlYNWWCTD2kCDHv_CAV8/htmlRecords/submit"};await(0,K.Qi)(s).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))}}};const Y=(0,A.Z)(q,[["render",H],["__scopeId","data-v-11516a43"]]);var O=Y}}]);
//# sourceMappingURL=964.d8c08e91.js.map