"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[7005],{988:function(e,t,a){var s=a(6252);const o={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},l=(0,s._)("path",{fill:"currentColor",d:"M19 2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h4l3 3l3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6 16h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 11.9 13 12.5 13 14h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41c0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1),i=[l];function n(e,t){return(0,s.wg)(),(0,s.iD)("svg",o,i)}t["Z"]={name:"ic-baseline-live-help",render:n}},8094:function(e,t,a){a.d(t,{Z:function(){return I}});var s=a(988),o=a(6252),l=a(6612);const i=e=>((0,o.dD)("data-v-0d45393b"),e=e(),(0,o.Cn)(),e),n={class:"container"},r={class:"filter-bg-container"},c={class:"filter-container"},d={class:"filter-item"},g=i((()=>(0,o._)("div",{class:"filter-label"},"Location",-1))),u={class:"filter-item"},h={class:"filter-item"},m=i((()=>(0,o._)("div",{class:"filter-label"},"Tags",-1))),f={class:"filter-item"},p=i((()=>(0,o._)("div",{class:"filter-label"},"Deal Category",-1))),D={class:"filter-checkbox-container"},b={class:"filter-search-btn-container"},_=(0,o.Uk)(" SEARCH "),y={class:"filter-contact-us-container"};function w(e,t,a,i,w,v){const k=(0,o.up)("el-option"),C=(0,o.up)("el-select"),V=(0,o.up)("el-checkbox"),I=(0,o.up)("el-checkbox-group"),S=(0,o.up)("el-button"),$=(0,o.up)("el-scrollbar"),L=s.Z,x=(0,o.up)("el-icon");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",r,[(0,o.Wm)($,{class:"filter-bg"},{default:(0,o.w5)((()=>[(0,o._)("div",c,[(0,o._)("div",d,[g,(0,o.Wm)(C,{class:"filter-select",modelValue:w.locationValue,"onUpdate:modelValue":t[0]||(t[0]=e=>w.locationValue=e),clearable:"",placeholder:"Location",size:"default",onChange:v.locationChange},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.locationData,(e=>((0,o.wg)(),(0,o.j4)(k,{key:e.id,label:e.Pinyin,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])]),(0,o._)("div",u,[(0,o.Wm)(V,{onChange:v.selectIsOnline,modelValue:w.filterIsOnlineValue,"onUpdate:modelValue":t[1]||(t[1]=e=>w.filterIsOnlineValue=e),label:"Online"},null,8,["onChange","modelValue"])]),(0,o._)("div",h,[m,(0,o.Wm)(C,{class:"filter-select",modelValue:w.tagValue,"onUpdate:modelValue":t[2]||(t[2]=e=>w.tagValue=e),clearable:"",multiple:"",placeholder:"Tags",size:"default",onChange:v.tagChange},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.tagsData,(e=>((0,o.wg)(),(0,o.j4)(k,{key:e.id,label:e.name_en,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])]),(0,o._)("div",f,[p,(0,o._)("div",D,[(0,o.Wm)(I,{modelValue:w.checkedCateData,"onUpdate:modelValue":t[3]||(t[3]=e=>w.checkedCateData=e),max:1},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.subCateData,((e,t)=>((0,o.wg)(),(0,o.j4)(V,{key:t,label:e.id},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.identity_name),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])])]),(0,o._)("div",b,[(0,o.Wm)(S,{type:"primary",round:"",onClick:t[4]||(t[4]=e=>v.search())},{default:(0,o.w5)((()=>[_])),_:1})])])),_:1}),(0,o._)("div",y,[(0,o.Wm)(x,{size:45,color:"#6648FF",onClick:t[5]||(t[5]=e=>v.contactUs())},{default:(0,o.w5)((()=>[(0,o.Wm)(L)])),_:1}),(0,o._)("span",{onClick:t[6]||(t[6]=e=>v.contactUs())},"Contact Us")])])])}var v=a(4276),k={name:"dealFilterComponent",props:["identity","locationData","tagsData","subCateData"],data(){return{locationValue:"",filterIsOnlineValue:!1,onlineValue:-1,tagValue:[],sCateId:0,checkedCateData:[]}},methods:{contactUs(){window.open("https://salesiq.zoho.com/signaturesupport.ls?widgetcode=75672d291fd9d5fcab53ffa3194f32598809c21f9b5284cbaf3493087cdd2e0d1a2010ab7b6727677d37b27582c0e9c4","_blank")},offerDeal(){let e=localStorage.getItem("token"),t=this;if(!e||""==e)return this.$msgbox({title:"Offer a Deal",message:"Before offer a deal, you need to log in",type:"warning",confirmButtonText:"Log in",callback(e){if(console.log(e),"confirm"===e){let e={path:"/deals",query:{id:t.$route.query.id}},a=(0,v.cv)(JSON.stringify(e));t.$router.push({path:"/edupassport",query:{redirect_params:a}})}}});let a=localStorage.getItem("identity");if(5!=a)return this.$message.error("Oops! Your current identity is not an vendor, please switch to Vendor");t.$router.push({path:"/deals/offer",query:{}})},locationChange(){},selectIsOnline(e){console.log(e),this.onlineValue=e?1:0},tagChange(){},selectSubCate(){},search(){let e=this.locationValue,t=this.onlineValue,a=this.tagValue,s=this.checkedCateData,o={};e&&(o.city=e),t&&(o.is_online=t),a.length>0&&(o.tag_name=a),s.length>0&&(o.company_category_id=s[0]),this.$emit("search",o)}}},C=a(8118);const V=(0,C.Z)(k,[["render",w],["__scopeId","data-v-0d45393b"]]);var I=V},630:function(e,t,a){a.r(t),a.d(t,{default:function(){return _}});var s=a(6492),o=a(8094),l=a(6252);const i={class:"bg"},n={class:"xll-container"},r={class:"deal-business-bg"};function c(e,t,a,c,d,g){const u=o.Z,h=(0,l.up)("el-col"),m=s.Z,f=(0,l.up)("el-row"),p=(0,l.Q2)("loading");return(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("div",n,[(0,l.Wm)(f,{gutter:0,align:"top",justify:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{xs:24,sm:24,md:4,lg:4,xl:4},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{locationData:d.locationOptions,tagsData:d.tagsData,subCateData:d.subCateData,onSearch:g.confirmFilterSearch},null,8,["locationData","tagsData","subCateData","onSearch"])])),_:1}),(0,l.Wm)(h,{class:"deal-business-col",xs:24,sm:24,md:20,lg:20,xl:20},{default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l.Wm)(m,{canEdit:!0,fromDeal:!0,onBack:g.backToSearchResults,info:d.companyInfo,identity:5},null,8,["onBack","info"])])])),_:1})])),_:1})])])),[[p,d.showLoadingStatus]])}var d=a(1836),g=a(4276),u=a(6158),h=a.n(u),m=a(8847),f=a.n(m),p={name:"vendorProfile",components:{dealFilterComponent:o.Z,businessProfile:s.Z},setup(){const e=window.location.href;return{locationUrl:e}},data(){return{subCateData:[],locationValue:"",locationOptions:[],tagValue:[],tagsData:[],dealsListData:[],dealPage:1,dealLimit:10,dealTotalNum:0,sCateId:0,showLoadingStatus:!0,adsHeight:"190px",adsDataTop:[],adsDataMid:[],adsDataBottom:[],featuredDealsData:[],dealDetailDialogVisible:!1,dealDetailData:{},qrcodeValue:"",webDomain:"https://www.edupassport.io",showDealDetailStatus:!1,filterIsOnlineValue:!1,detailData:{},accessToken:"pk.eyJ1Ijoic3JrbGluZ2UiLCJhIjoiY2t2NnR4anI2OWU5NDJ3bWE1dHd3c3h1aSJ9.O0JfjqiyBBkFuf4G-DQ-DQ",mapStyle:"mapbox://styles/mapbox/streets-v11",shareDialogVisible:!1,shareInfo:{},filterResultData:{},companyInfo:{}}},mounted(){let e=document.body.clientWidth,t=Math.floor(e);t>=992&&t<1200&&(this.adsHeight="120px"),t>=1200&&t<1920&&(this.adsHeight="140px"),t>=1920&&(this.adsHeight="190px"),window.onresize=()=>{t>=992&&t<1200&&(this.adsHeight="120px"),t>=1200&&t<1920&&(this.adsHeight="140px"),t>=1920&&(this.adsHeight="190px")};let a=this.$route.query.uid,s=this.$route.query.i,o=this.$route.query.cid;a&&s&&o&&this.getVisitorUserInfo(a,s,o),this.getFeaturedDealsList(),this.getSubIdentityList(),this.getTagsList(),this.getDealsAreaList(),this.getAdsList()},methods:{confirmFilterSearch(e){console.log(e),this.filterResultData=e,this.getDealsList(this.dealPage,this.dealLimit)},backToSearchResults(){this.$router.go(-1)},readMoreDeal(e){this.showDealDetailStatus=!0,this.dealDetailDialogVisible=!1,this.$router.push({path:"/deals",query:{id:e}})},showDealDetailDialog(e){this.dealDetailData=e,this.dealDetailDialogVisible=!0,this.qrcodeValue=this.webDomain+"?id="+e.id},shareDeal(e){this.shareDialogVisible=!0,this.shareInfo=e},getVisitorUserInfo(e,t,a){let s={user_id:e,identity:t,company_id:a};(0,d.Vd)(s).then((e=>{console.log(e),200==e.code&&(this.companyInfo=e.message.user_contact.company,this.showLoadingStatus=!1)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},turnBanner(e){if(console.log(e),""!=e)window.location.href=e;else{let e=localStorage.getItem("token");if(!e)return void window.open("https://salesiq.zoho.com/signaturesupport.ls?widgetcode=75672d291fd9d5fcab53ffa3194f32598809c21f9b5284cbaf3493087cdd2e0d1a2010ab7b6727677d37b27582c0e9c4","_blank");this.$router.push("/me/ads/platform")}},getAdsList(){let e={page:1,limit:1e4};(0,d.tb)(e).then((e=>{if(200==e.code){let t=[],a=[],s=[],o=localStorage.getItem("identity");o||(t=e.message.filter((e=>"guest_d1"==e.name)),a=e.message.filter((e=>"guest_d2"==e.name)),s=e.message.filter((e=>"guest_d3"==e.name))),1==o&&(t=e.message.filter((e=>"educator_d1"==e.name)),a=e.message.filter((e=>"educator_d2"==e.name)),s=e.message.filter((e=>"educator_d3"==e.name))),2!=o&&3!=o&&4!=o||(t=e.message.filter((e=>"business_d1"==e.name)),a=e.message.filter((e=>"business_d2"==e.name)),s=e.message.filter((e=>"business_d3"==e.name))),5==o&&(t=e.message.filter((e=>"vendor_d1"==e.name)),a=e.message.filter((e=>"vendor_d2"==e.name)),s=e.message.filter((e=>"vendor_d3"==e.name))),t.length>0&&(this.adsDataTop=t[0].data),a.length>0&&(this.adsDataMid=a[0].data),s.length>0&&(this.adsDataBottom=s[0].data)}})).catch((e=>{this.$message.error(e.msg)}))},turnDealDetail(e){this.$router.push({path:"/deals/detail",query:{id:e}})},getSubIdentityList(){let e={pid:5,tree:1};(0,d.cF)(e).then((e=>{console.log(e),200==e.code&&(this.subCateData=e.message)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},getTagsList(){let e={page:1,limit:1e3};(0,d.g_)(e).then((e=>{console.log(e),200==e.code&&(this.tagsData=e.message.data)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},getDealsAreaList(){(0,d.DP)({}).then((e=>{console.log(e),200==e.code&&(this.locationOptions=e.message)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},addFavorite(e,t,a,s,o){let l={token:localStorage.getItem("token"),type:t,type_id:e,type_title:a,type_url:s};(0,d.q8)(l).then((e=>{console.log(e),200==e.code&&(this.$message.success("Success"),this.dealsListData[o]["is_favorite"]=1)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},cancelFavorite(e,t,a){let s={token:localStorage.getItem("token"),type:e,type_id:t};(0,d.Bv)(s).then((e=>{console.log(e),200==e.code&&(this.dealsListData[a]["is_favorite"]=0)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},addFavoriteFeatured(e,t,a,s,o){let l={token:localStorage.getItem("token"),type:t,type_id:e,type_title:a,type_url:s};(0,d.q8)(l).then((e=>{console.log(e),200==e.code&&(this.$message.success("Success"),this.featuredDealsData[o]["is_favorite"]=1)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},cancelFavoriteFeatured(e,t,a){let s={token:localStorage.getItem("token"),type:e,type_id:t};(0,d.Bv)(s).then((e=>{console.log(e),200==e.code&&(this.featuredDealsData[a]["is_favorite"]=0)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},offerDeal(){let e=localStorage.getItem("token"),t=this;if(!e||""==e)return this.$msgbox({title:"Offer a Deal",message:"Before offer a deal, you need to log in",type:"warning",confirmButtonText:"Log in",callback(e){if(console.log(e),"confirm"===e){let e={path:"/deals",query:{id:t.$route.query.id}},a=(0,g.cv)(JSON.stringify(e));t.$router.push({path:"/login",query:{redirect_params:a}})}}});let a=localStorage.getItem("identity");if(5!=a)return this.$message.error("Oops! Your current identity is not an vendor, please switch to Vendor");t.$router.push({path:"/deals/offer",query:{}})},getFeaturedDealsList(){let e={};(0,d.dV)(e).then((e=>{console.log(e),200==e.code&&(this.featuredDealsData=e.message)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},initMap(e,t){h().accessToken=this.accessToken;const a=new(h().Map)({container:"mapContainer",center:[e,t],style:this.mapStyle,zoom:12}),s=new(h().NavigationControl);a.addControl(s,"top-right");const o=new(h().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0});a.addControl(o,"top-right");const l=new(f())({accessToken:this.accessToken,mapboxgl:h()});a.addControl(l,"top-left");const i=new(h().Marker);i.setLngLat([e,t]).addTo(a)}}},D=a(8118);const b=(0,D.Z)(p,[["render",c],["__scopeId","data-v-0cfd93fc"]]);var _=b}}]);
//# sourceMappingURL=7005.3dd3dedd.js.map