{"version":3,"file":"js/2067.440a3f3d.js","mappings":"uKAEA,MAAMA,EAAeC,KAAM,QAAa,mBAAoBA,EAAIA,KAAK,UAAeA,GAE9EC,EAAa,CACjBC,MAAO,MAGHC,EAA0BJ,GAAa,KAAmB,IAAAK,GAAoB,KAAM,KAAM,4DAA6D,KAEvJC,EAAa,CAACF,GACb,SAASG,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,OAAO,WAAc,QAAoB,MAAOX,EAAYI,EAC9D,C,iCCXA,GACEQ,KAAM,UAENC,UACEC,QAAQC,IAAIC,KAAKC,OAAOC,OACxB,IAAIC,EAAQH,KAAKC,OAAOC,MAAMC,MAC1BC,EAAYJ,KAAKC,OAAOC,MAAMG,WAC9BC,EAAWN,KAAKC,OAAOC,MAAMK,UACjCP,KAAKQ,sBAAsBL,EAAOC,EAAWE,EAC/C,EAEAG,QAAS,CACPD,sBAAsBL,EAAOC,EAAWE,GACtC,IAAII,EAAOV,KACPW,EAAWR,EAAMS,MAAM,KACvBC,EAAiBF,EAAS,GAAGG,OAAO,EAAG,GACvCC,EAAgBJ,EAAS,GAAGG,QAAQ,GACpCE,EAAWH,EAAiBE,EAAgBZ,EAC5Cc,EAAS,CACXd,MAAOA,EACPe,KAAM,IAAIF,GACVX,WAAYD,EACZG,UAAWD,IAEb,QAAuBW,GAAQE,MAAKC,IAGlC,GAFAtB,QAAQC,IAAIqB,GAEK,MAAbA,EAAIF,KAAc,CACpBG,aAAaC,QAAQ,QAASF,EAAIG,QAAQC,OAC1CH,aAAaC,QAAQ,MAAOF,EAAIG,QAAQE,IACxCJ,aAAaC,QAAQ,WAAYF,EAAIG,QAAQG,UAC7CL,aAAaC,QAAQ,WAAYF,EAAIG,QAAQI,UAC7CN,aAAaC,QAAQ,QAASF,EAAIG,QAAQpB,OAC1C,IAAIuB,EAAWN,EAAIG,QAAQG,SAE3B,GAAgB,GAAZA,EAAe,CACjB,IAAItB,EAAYgB,EAAIG,QAAQK,cAAcvB,WACtCC,EAAWc,EAAIG,QAAQK,cAAcrB,UACzCc,aAAaC,QAAQ,OAAQlB,EAAY,IAAME,GAC/Ce,aAAaC,QAAQ,aAAclB,GACnCiB,aAAaC,QAAQ,YAAahB,EACpC,CAEAuB,YAAW,WACTnB,EAAKoB,QAAQC,KAAK,QACpB,GAAG,KACL,KACCC,OAAMC,IACPnC,QAAQC,IAAIkC,GAEK,MAAbA,EAAIf,MACNR,EAAKwB,QAAQ,CACXC,MAAO,UACPZ,QAAS,0DACTa,KAAM,UACNC,SAAUC,IACRxC,QAAQC,IAAIuC,GAEG,YAAXA,GACF5B,EAAKoB,QAAQC,KAAK,CAChBQ,KAAM,SACNrC,MAAO,CACLC,MAAOA,IAGb,GAGN,GAEJ,I,UCjEJ,MAAMqC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASnD,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://eslweb/./src/views/exchange/account.vue?a818","webpack://eslweb/./src/views/exchange/account.vue","webpack://eslweb/./src/views/exchange/account.vue?8e32"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3a73000c\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"bg\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Information is being exchanged, please wait patiently...\", -1));\n\nconst _hoisted_3 = [_hoisted_2];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, _hoisted_3);\n}","import { INTERNATIONAL_REGISTER } from \"@/api/api\";\nimport md5 from 'js-md5';\nexport default {\n  name: \"account\",\n\n  mounted() {\n    console.log(this.$route.query);\n    let email = this.$route.query.email;\n    let firstName = this.$route.query.first_name;\n    let lastName = this.$route.query.last_name;\n    this.internationalRegister(email, firstName, lastName);\n  },\n\n  methods: {\n    internationalRegister(email, firstName, lastName) {\n      let self = this;\n      let emailArr = email.split('@');\n      let emailFirstChar = emailArr[0].substr(0, 1);\n      let emailLastChar = emailArr[0].substr(-1);\n      let emailStr = emailFirstChar + emailLastChar + email;\n      let params = {\n        email: email,\n        code: md5(emailStr),\n        first_name: firstName,\n        last_name: lastName\n      };\n      INTERNATIONAL_REGISTER(params).then(res => {\n        console.log(res);\n\n        if (res.code === 200) {\n          localStorage.setItem('token', res.message.token);\n          localStorage.setItem('uid', res.message.id);\n          localStorage.setItem('identity', res.message.identity);\n          localStorage.setItem('language', res.message.language);\n          localStorage.setItem('email', res.message.email);\n          let identity = res.message.identity;\n\n          if (identity == 1) {\n            let firstName = res.message.educator_info.first_name;\n            let lastName = res.message.educator_info.last_name;\n            localStorage.setItem('name', firstName + ' ' + lastName);\n            localStorage.setItem('first_name', firstName);\n            localStorage.setItem('last_name', lastName);\n          }\n\n          setTimeout(function () {\n            self.$router.push('/jobs');\n          }, 1500);\n        }\n      }).catch(err => {\n        console.log(err);\n\n        if (err.code === 400) {\n          self.$msgbox({\n            title: 'Success',\n            message: 'You have already registered, please log in your account',\n            type: 'success',\n            callback: action => {\n              console.log(action);\n\n              if (action === 'confirm') {\n                self.$router.push({\n                  path: '/login',\n                  query: {\n                    email: email\n                  }\n                });\n              }\n            }\n          });\n        }\n      });\n    }\n\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./account.vue?vue&type=template&id=3a73000c&scoped=true\"\nimport script from \"./account.vue?vue&type=script&lang=js\"\nexport * from \"./account.vue?vue&type=script&lang=js\"\n\nimport \"./account.vue?vue&type=style&index=0&id=3a73000c&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\workplace\\\\eslweb\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3a73000c\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_hoisted_1","class","_hoisted_2","_","_hoisted_3","render","_ctx","_cache","$props","$setup","$data","$options","name","mounted","console","log","this","$route","query","email","firstName","first_name","lastName","last_name","internationalRegister","methods","self","emailArr","split","emailFirstChar","substr","emailLastChar","emailStr","params","code","then","res","localStorage","setItem","message","token","id","identity","language","educator_info","setTimeout","$router","push","catch","err","$msgbox","title","type","callback","action","path","__exports__"],"sourceRoot":""}