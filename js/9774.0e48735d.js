"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[9774],{3515:function(e,t,a){a.d(t,{Z:function(){return S}});var s=a(6252),i=a(6612);const l={class:"menu-btn-container"},n=(0,s.Uk)("Menu"),o={key:0,class:"profile-l-container"},r={class:"l-container"},c=["Key"],d={key:0,class:"item-head_unread"};function u(e,t,a,u,m,g){const h=(0,s.up)("el-button"),_=(0,s.up)("el-image"),p=(0,s.up)("router-link"),f=(0,s.up)("el-scrollbar");return(0,s.wg)(),(0,s.j4)(f,{class:"menu-xll-bg-container"},{default:(0,s.w5)((()=>[(0,s._)("div",l,[(0,s.Wm)(h,{class:"menu-btn",type:"primary",onClick:t[0]||(t[0]=e=>g.showSideMenu())},{default:(0,s.w5)((()=>[n])),_:1})]),m.showSideMenuStatus?((0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.menuData,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"l-item l-item-margin",Key:t},[(0,s.Wm)(p,{class:(0,i.C_)(u.selectedKeys===e.link?"router-link-exact-active":""),to:{path:e.link},exact:""},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"xll-icon-image",src:e.icon},null,8,["src"]),(0,s._)("span",null,(0,i.zw)(e.menu_name_en),1)])),_:2},1032,["class","to"]),"MESSAGES"===e.menu_name_en&&g.unreadTotal>0?((0,s.wg)(),(0,s.iD)("div",d,(0,i.zw)(g.unreadTotal),1)):(0,s.kq)("",!0)],8,c)))),256))])])):(0,s.kq)("",!0)])),_:1})}var m=a(1474),g=a(1836),h=a(5323),_=a(3907),p=a(8339),f=a(2931),v={name:"meSideMenu",setup(){const e=(0,_.oR)(),t=t=>e.commit("nowChatUserInfo",t),a=()=>e.commit("showChatStatus",!0),i=(0,p.yj)(),l=i.meta.activeMenu,n=(0,f.iH)(l||i.path),o=(0,s.Fl)((()=>e.state.currentUser));return{setNowChatUserInfo:t,setShowChatStatus:a,selectedKeys:n,currentUser:o}},data(){return{defaultAvatar:h,accountInfo:{},accountPhotoValue:"",versionTime:(0,m.O1)(),activeMsg:!1,showSideMenuStatus:!0}},watch:{menuData(e){console.log(e)},unreadTotal(e){console.log(e)}},computed:{username:{get(){return this.$store.state.username}},userAvatar:{get(){return this.$store.state.userAvatar}},identity:{get(){return this.$store.state.identity}},menuData:{get(){return this.$store.state.menuData}},unreadTotal:{get(){return this.$store.state.imUnreadTotal}}},mounted(){let e=document.body.clientWidth;Math.floor(e)<768&&(this.showSideMenuStatus=!1),Math.floor(e)>=768&&Math.floor(e)<992&&(this.showSideMenuStatus=!0),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.showSideMenuStatus=!0),Math.floor(e)>=1200&&(this.showSideMenuStatus=!0),window.onresize=()=>{let e=document.body.clientWidth;Math.floor(e)<768&&(this.showSideMenuStatus=!1),Math.floor(e)>=768&&Math.floor(e)<992&&(this.showSideMenuStatus=!0),Math.floor(e)>=992&&Math.floor(e)<1200&&(this.showSideMenuStatus=!0),Math.floor(e)>=1200&&(this.showSideMenuStatus=!0)}},methods:{showSideMenu(){this.showSideMenuStatus=!this.showSideMenuStatus},getUserMenuList(){let e=this,t={user_id:localStorage.getItem("uid"),identity:e.identity,company_id:localStorage.getItem("company_id"),create_user_id:localStorage.getItem("c_uid"),page:1,limit:1e3};(0,g.$Z)(t).then((t=>{if(200===t.code){let a=t.message.pc,s=a.filter((t=>t.identity==e.identity));this.$store.commit("menuData",s)}})).catch((e=>{console.log(e)}))},turnMyMessages(){this.setShowChatStatus()}}},w=a(8118);const y=(0,w.Z)(v,[["render",u],["__scopeId","data-v-f4e9da0c"]]);var S=y},9774:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var s=a(3515),i=a(6252),l=a(6612);const n=e=>((0,i.dD)("data-v-6063c0f8"),e=e(),(0,i.Cn)(),e),o={class:"bg"},r={class:"profile-container"},c={class:"profile-l-container"},d={class:"profile-r-container"},u={class:"deals-list-container"},m={class:"deals-list-t"},g=n((()=>(0,i._)("div",{class:"deals-list-label"},"My Deals",-1))),h={class:"deals-list-t-r"},_=(0,i.Uk)(" Offer a Deal "),p={class:"deals-list-content"},f={class:"deals-item"},v={class:"deals-item-bg"},w={class:"img-slot-background"},y={key:0,class:"list-item-tag actived-0"},S={key:1,class:"list-item-tag actived-1"},M={key:2,class:"list-item-tag actived-2"},k={class:"deals-item-c"},D={class:"deals-item-c-l"},b={class:"deals-item-c-r"},C={class:"deals-item-c-r-1"},W={class:"deals-item-c-r-2"},z={class:"deals-item-b"},I={class:"deals-item-b-l"},U=(0,i.Uk)(" unknown "),P={class:"deals-item-b-r"},$=(0,i.Uk)(" DETAILS "),T={class:"deals-pagination"};function L(e,t,a,n,L,q){const A=s.Z,K=(0,i.up)("el-button"),Z=(0,i.up)("Picture"),x=(0,i.up)("el-icon"),H=(0,i.up)("el-image"),j=(0,i.up)("el-avatar"),N=(0,i.up)("el-pagination"),Y=(0,i.up)("el-scrollbar");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",r,[(0,i._)("div",c,[(0,i.Wm)(A)]),(0,i._)("div",d,[(0,i.Wm)(Y,{class:"profile-r-bg-container"},{default:(0,i.w5)((()=>[(0,i._)("div",u,[(0,i._)("div",m,[g,(0,i._)("div",h,[(0,i.Wm)(K,{type:"primary",class:"post-deal-btn",round:"",onClick:t[0]||(t[0]=e=>q.postDeal())},{default:(0,i.w5)((()=>[_])),_:1})])]),(0,i._)("div",p,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(L.dealsListData,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"deals-item-container",key:t},[(0,i._)("div",f,[(0,i._)("div",v,[(0,i.Wm)(H,{class:"deals-item-background-img",src:e.company_info.background_image?e.company_info.background_image:"",fit:"cover"},{error:(0,i.w5)((()=>[(0,i._)("div",w,[(0,i.Wm)(x,{size:80,color:"#808080"},{default:(0,i.w5)((()=>[(0,i.Wm)(Z)])),_:1})])])),_:2},1032,["src"]),0==e.status?((0,i.wg)(),(0,i.iD)("div",y," Pending ")):(0,i.kq)("",!0),1==e.status?((0,i.wg)(),(0,i.iD)("div",S," Active ")):(0,i.kq)("",!0),2==e.status?((0,i.wg)(),(0,i.iD)("div",M," Rejected ")):(0,i.kq)("",!0)]),(0,i._)("div",k,[(0,i._)("div",D,[(0,i.Wm)(j,{class:"deals-logo",src:e.company_logo},null,8,["src"])]),(0,i._)("div",b,[(0,i._)("div",C,(0,l.zw)(e.company_name),1),(0,i._)("div",W,(0,l.zw)(e.title),1)])]),(0,i._)("div",z,[(0,i._)("div",I,[e.company_info.category_name_en&&"0"!=e.company_info.category_name_en?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)((0,l.zw)(e.company_info.category_name_en),1)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[U],64))]),(0,i._)("div",P,[(0,i.Wm)(K,{link:"",onClick:t=>q.turnDealDetail(e.id)},{default:(0,i.w5)((()=>[$])),_:2},1032,["onClick"])])])])])))),128))])]),(0,i._)("div",T,[(0,i.Wm)(N,{layout:"prev, pager, next","default-current-page":1,onSizeChange:q.dealPageSizeChange,onCurrentChange:q.dealPageChange,"current-page":L.dealPage,"page-size":L.dealLimit,total:L.dealTotalNum},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])),_:1})])])])}var q=a(1836),A={name:"deals",components:{meSideMenu:s.Z},data(){return{userInfo:{},basicUserInfo:{},dealsListData:[],dealPage:1,dealLimit:10,dealTotalNum:0}},mounted(){this.getMyDeals(this.dealPage,this.dealLimit)},methods:{postDeal(){this.$router.push({path:"/deals/offer",query:{}})},turnDealDetail(e){this.$router.push({path:"/deals/detail",query:{id:e}})},dealPageSizeChange(e){console.log(e)},dealPageChange(e){this.jobPage=e,this.getMyDeals(e,this.dealLimit),console.log(e)},getMyDeals(e,t){let a={token:localStorage.getItem("token"),page:e,limit:t};(0,q.Jq)(a).then((e=>{console.log(e),200==e.code?(this.dealsListData=e.message.data,this.dealTotalNum=e.message.total):console.log(e.msg)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))}}},K=a(8118);const Z=(0,K.Z)(A,[["render",L],["__scopeId","data-v-6063c0f8"]]);var x=Z}}]);
//# sourceMappingURL=9774.0e48735d.js.map